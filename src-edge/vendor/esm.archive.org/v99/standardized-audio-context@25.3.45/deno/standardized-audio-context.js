/* esm.sh - esbuild bundle(standardized-audio-context@25.3.45) deno production */
import{createCancelAndHoldAutomationEvent as Xa,createCancelScheduledValuesAutomationEvent as Ya,createExponentialRampToValueAutomationEvent as za,createLinearRampToValueAutomationEvent as Qa,createSetTargetAutomationEvent as Ha,createSetValueAutomationEvent as $a,createSetValueCurveAutomationEvent as Ka}from"/v99/automation-events@6.0.0/deno/automation-events.js";var lr=()=>new DOMException("","AbortError");var dr=e=>(r,t,[o,n,a],u)=>{e(r[n],[t,o,a],s=>s[0]===t&&s[1]===o,u)};var fr=e=>(r,t,o)=>{let n=[];for(let a=0;a<o.numberOfInputs;a+=1)n.push(new Set);e.set(r,{activeInputs:n,outputs:new Set,passiveInputs:new WeakMap,renderer:t})};var mr=e=>(r,t)=>{e.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})};var _e=new WeakSet,gt=new WeakMap,ze=new WeakMap,vt=new WeakMap,mt=new WeakMap,Qe=new WeakMap,At=new WeakMap,ht=new WeakMap,xt=new WeakMap,Nt=new WeakMap;var hr={construct(){return hr}},xr=e=>{try{let r=new Proxy(e,hr);new r}catch{return!1}return!0};var Nr=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Wt=(e,r)=>{let t=[],o=e.replace(/^[\s]+/,""),n=o.match(Nr);for(;n!==null;){let a=n[1].slice(1,-1),u=n[0].replace(/([\s]+)?;?$/,"").replace(a,new URL(a,r).toString());t.push(u),o=o.slice(n[0].length).replace(/^[\s]+/,""),n=o.match(Nr)}return[t.join(";"),o]};var Cr=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},gr=e=>{if(!xr(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},vr=(e,r,t,o,n,a,u,s,c,i,p,l,m)=>{let f=0;return(d,h,x={credentials:"omit"})=>{let C=p.get(d);if(C!==void 0&&C.has(h))return Promise.resolve();let y=i.get(d);if(y!==void 0){let N=y.get(h);if(N!==void 0)return N}let S=a(d),_=S.audioWorklet===void 0?n(h).then(([N,v])=>{let[A,g]=Wt(N,v),M=`${A};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${g}
})})(window,'_AWGS')`;return t(M)}).then(()=>{let N=m._AWGS.pop();if(N===void 0)throw new SyntaxError;o(S.currentTime,S.sampleRate,()=>N(class{},void 0,(v,A)=>{if(v.trim()==="")throw r();let g=xt.get(S);if(g!==void 0){if(g.has(v))throw r();gr(A),Cr(A.parameterDescriptors),g.set(v,A)}else gr(A),Cr(A.parameterDescriptors),xt.set(S,new Map([[v,A]]))},S.sampleRate,void 0,void 0))}):Promise.all([n(h),Promise.resolve(e(l,l))]).then(([[N,v],A])=>{let g=f+1;f=g;let[M,I]=Wt(N,v),T=`${M};((AudioWorkletProcessor,registerProcessor)=>{${I}
})(${A?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${A?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${A?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${g}',class extends AudioWorkletProcessor{process(){return !1}})`,R=new Blob([T],{type:"application/javascript; charset=utf-8"}),P=URL.createObjectURL(R);return S.audioWorklet.addModule(P,x).then(()=>{if(s(S))return S;let F=u(S);return F.audioWorklet.addModule(P,x).then(()=>F)}).then(F=>{if(c===null)throw new SyntaxError;try{new c(F,`__sac${g}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(P))});return y===void 0?i.set(d,new Map([[h,_]])):y.set(h,_),_.then(()=>{let N=p.get(d);N===void 0?p.set(d,new Set([h])):N.add(h)}).finally(()=>{let N=i.get(d);N!==void 0&&N.delete(h)}),_}};var ne=(e,r)=>{let t=e.get(r);if(t===void 0)throw new Error("A value with the given key could not be found.");return t};var Fe=(e,r)=>{let t=Array.from(e).filter(r);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");let[o]=t;return e.delete(o),o};var yt=(e,r,t,o)=>{let n=ne(e,r),a=Fe(n,u=>u[0]===t&&u[1]===o);return n.size===0&&e.delete(r),a};var Oe=e=>ne(At,e);var ve=e=>{if(_e.has(e))throw new Error("The AudioNode is already stored.");_e.add(e),Oe(e).forEach(r=>r(!0))};var St=e=>"port"in e;var Ie=e=>{if(!_e.has(e))throw new Error("The AudioNode is not stored.");_e.delete(e),Oe(e).forEach(r=>r(!1))};var Ct=(e,r)=>{!St(e)&&r.every(t=>t.size===0)&&Ie(e)};var Ar=(e,r,t,o,n,a,u,s,c,i,p,l,m)=>{let f=new WeakMap;return(d,h,x,C,y)=>{let{activeInputs:S,passiveInputs:_}=a(h),{outputs:N}=a(d),v=s(d),A=g=>{let M=c(h),I=c(d);if(g){let O=yt(_,d,x,C);e(S,d,O,!1),!y&&!l(d)&&t(I,M,x,C),m(h)&&ve(h)}else{let O=o(S,d,x,C);r(_,C,O,!1),!y&&!l(d)&&n(I,M,x,C);let w=u(h);if(w===0)p(h)&&Ct(h,S);else{let b=f.get(h);b!==void 0&&clearTimeout(b),f.set(h,setTimeout(()=>{p(h)&&Ct(h,S)},w*1e3))}}};return i(N,[h,x,C],g=>g[0]===h&&g[1]===x&&g[2]===C,!0)?(v.add(A),p(d)?e(S,d,[x,C,A],!0):r(_,C,[d,x,A],!0),!0):!1}};var yr=e=>(r,t,[o,n,a],u)=>{let s=r.get(o);s===void 0?r.set(o,new Set([[n,t,a]])):e(s,[n,t,a],c=>c[0]===n&&c[1]===t,u)};var Sr=e=>(r,t)=>{let o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(o).connect(r.destination);let n=()=>{t.removeEventListener("ended",n),t.disconnect(o),o.disconnect()};t.addEventListener("ended",n)};var wr=e=>(r,t)=>{e(r).add(t)};var ma={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},_r=(e,r,t,o,n,a)=>class extends e{constructor(s,c){let i=n(s),p={...ma,...c},l=o(i,p),m=a(i)?r():null;super(s,!1,l,m),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(s){this._nativeAnalyserNode.fftSize=s}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(s){let c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=s,!(s>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(s){let c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=s,!(this._nativeAnalyserNode.maxDecibels>s))throw this._nativeAnalyserNode.minDecibels=c,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(s){this._nativeAnalyserNode.smoothingTimeConstant=s}getByteFrequencyData(s){this._nativeAnalyserNode.getByteFrequencyData(s)}getByteTimeDomainData(s){this._nativeAnalyserNode.getByteTimeDomainData(s)}getFloatFrequencyData(s){this._nativeAnalyserNode.getFloatFrequencyData(s)}getFloatTimeDomainData(s){this._nativeAnalyserNode.getFloatTimeDomainData(s)}};var q=(e,r)=>e.context===r;var Or=(e,r,t)=>()=>{let o=new WeakMap,n=async(a,u)=>{let s=r(a);if(!q(s,u)){let i={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,fftSize:s.fftSize,maxDecibels:s.maxDecibels,minDecibels:s.minDecibels,smoothingTimeConstant:s.smoothingTimeConstant};s=e(u,i)}return o.set(u,s),await t(a,u,s),s};return{render(a,u){let s=o.get(u);return s!==void 0?Promise.resolve(s):n(a,u)}}};var He=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0};var Ne=()=>new DOMException("","IndexSizeError");var $e=e=>{e.getChannelData=(r=>t=>{try{return r.call(e,t)}catch(o){throw o.code===12?Ne():o}})(e.getChannelData)};var ha={numberOfChannels:1},Ir=(e,r,t,o,n,a,u,s)=>{let c=null;return class Mr{constructor(p){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");let{length:l,numberOfChannels:m,sampleRate:f}={...ha,...p};c===null&&(c=new n(1,1,44100));let d=o!==null&&r(a,a)?new o({length:l,numberOfChannels:m,sampleRate:f}):c.createBuffer(m,l,f);if(d.numberOfChannels===0)throw t();return typeof d.copyFromChannel!="function"?(u(d),$e(d)):r(He,()=>He(d))||s(d),e.add(d),d}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===Mr.prototype||e.has(p)}}};var re=-34028234663852886e22,te=-re;var le=e=>_e.has(e);var xa={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Er=(e,r,t,o,n,a,u,s)=>class extends e{constructor(i,p){let l=a(i),m={...xa,...p},f=n(l,m),d=u(l),h=d?r():null;super(i,!1,f,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=m.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=t(this,d,f.playbackRate,te,re)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(i){if(this._nativeAudioBufferSourceNode.buffer=i,i!==null){if(this._isBufferSet)throw o();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(i){this._nativeAudioBufferSourceNode.loop=i}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(i){this._nativeAudioBufferSourceNode.loopEnd=i}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(i){this._nativeAudioBufferSourceNode.loopStart=i}get onended(){return this._onended}set onended(i){let p=typeof i=="function"?s(this,i):null;this._nativeAudioBufferSourceNode.onended=p;let l=this._nativeAudioBufferSourceNode.onended;this._onended=l!==null&&l===p?i:l}get playbackRate(){return this._playbackRate}start(i=0,p=0,l){if(this._nativeAudioBufferSourceNode.start(i,p,l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=l===void 0?[i,p]:[i,p,l]),this.context.state!=="closed"){ve(this);let m=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",m),le(this)&&Ie(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",m)}}stop(i=0){this._nativeAudioBufferSourceNode.stop(i),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=i)}};var Tr=(e,r,t,o,n)=>()=>{let a=new WeakMap,u=null,s=null,c=async(i,p)=>{let l=t(i),m=q(l,p);if(!m){let f={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=r(p,f),u!==null&&l.start(...u),s!==null&&l.stop(s)}return a.set(p,l),m?await e(p,i.playbackRate,l.playbackRate):await o(p,i.playbackRate,l.playbackRate),await n(i,p,l),l};return{set start(i){u=i},set stop(i){s=i},render(i,p){let l=a.get(p);return l!==void 0?Promise.resolve(l):c(i,p)}}};var br=e=>"playbackRate"in e;var Pr=e=>"frequency"in e&&"gain"in e;var Fr=e=>"offset"in e;var Dr=e=>!("frequency"in e)&&"gain"in e;var Rr=e=>"detune"in e&&"frequency"in e;var kr=e=>"pan"in e;var ae=e=>ne(gt,e);var De=e=>ne(vt,e);var wt=(e,r)=>{let{activeInputs:t}=ae(e);t.forEach(n=>n.forEach(([a])=>{r.includes(e)||wt(a,[...r,e])}));let o=br(e)?[e.playbackRate]:St(e)?Array.from(e.parameters.values()):Pr(e)?[e.Q,e.detune,e.frequency,e.gain]:Fr(e)?[e.offset]:Dr(e)?[e.gain]:Rr(e)?[e.detune,e.frequency]:kr(e)?[e.pan]:[];for(let n of o){let a=De(n);a!==void 0&&a.activeInputs.forEach(([u])=>wt(u,r))}le(e)&&Ie(e)};var Re=e=>{wt(e.destination,[])};var _t=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback");var Wr=(e,r,t,o,n,a,u,s,c)=>class extends e{constructor(p={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let l;try{l=new c(p)}catch(d){throw d.code===12&&d.message==="sampleRate is not in range"?t():d}if(l===null)throw o();if(!_t(p.latencyHint))throw new TypeError(`The provided value '${p.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(p.sampleRate!==void 0&&l.sampleRate!==p.sampleRate)throw t();super(l,2);let{latencyHint:m}=p,{sampleRate:f}=l;if(this._baseLatency=typeof l.baseLatency=="number"?l.baseLatency:m==="balanced"?512/f:m==="interactive"||m===void 0?256/f:m==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(m*f/128)))*128/f,this._nativeAudioContext=l,c.name==="webkitAudioContext"?(this._nativeGainNode=l.createGain(),this._nativeOscillatorNode=l.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(l.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,l.state==="running"){this._state="suspended";let d=()=>{this._state==="suspended"&&(this._state=null),l.removeEventListener("statechange",d)};l.addEventListener("statechange",d)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw r()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Re(this)}))}createMediaElementSource(p){return new n(this,{mediaElement:p})}createMediaStreamDestination(){return new a(this)}createMediaStreamSource(p){return new u(this,{mediaStream:p})}createMediaStreamTrackSource(p){return new s(this,{mediaStreamTrack:p})}resume(){return this._state==="suspended"?new Promise((p,l)=>{let m=()=>{this._nativeAudioContext.removeEventListener("statechange",m),this._nativeAudioContext.state==="running"?p():this.resume().then(p,l)};this._nativeAudioContext.addEventListener("statechange",m)}):this._nativeAudioContext.resume().catch(p=>{throw p===void 0||p.code===15?r():p})}suspend(){return this._nativeAudioContext.suspend().catch(p=>{throw p===void 0?r():p})}};var Lr=(e,r,t,o,n,a,u,s)=>class extends e{constructor(i,p){let l=a(i),m=u(l),f=n(l,p,m),d=m?r(s):null;super(i,!1,f,d),this._isNodeOfNativeOfflineAudioContext=m,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(i){if(this._isNodeOfNativeOfflineAudioContext)throw o();if(i>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=i}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(i){if(this._isNodeOfNativeOfflineAudioContext)throw o();this._nativeAudioDestinationNode.channelCountMode=i}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}};var Br=e=>{let r=new WeakMap,t=async(o,n)=>{let a=n.destination;return r.set(n,a),await e(o,n,a),a};return{render(o,n){let a=r.get(n);return a!==void 0?Promise.resolve(a):t(o,n)}}};var Vr=(e,r,t,o,n,a,u,s)=>(c,i)=>{let p=i.listener,l=()=>{let N=new Float32Array(1),v=r(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),A=u(i),g=!1,M=[0,0,-1,0,1,0],I=[0,0,0],O=()=>{if(g)return;g=!0;let R=o(i,256,9,0);R.onaudioprocess=({inputBuffer:P})=>{let F=[a(P,N,0),a(P,N,1),a(P,N,2),a(P,N,3),a(P,N,4),a(P,N,5)];F.some((k,B)=>k!==M[B])&&(p.setOrientation(...F),M=F);let V=[a(P,N,6),a(P,N,7),a(P,N,8)];V.some((k,B)=>k!==I[B])&&(p.setPosition(...V),I=V)},v.connect(R)},w=R=>P=>{P!==M[R]&&(M[R]=P,p.setOrientation(...M))},b=R=>P=>{P!==I[R]&&(I[R]=P,p.setPosition(...I))},T=(R,P,F)=>{let V=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:P});V.connect(v,0,R),V.start(),Object.defineProperty(V.offset,"defaultValue",{get(){return P}});let k=e({context:c},A,V.offset,te,re);return s(k,"value",B=>()=>B.call(k),B=>L=>{try{B.call(k,L)}catch(Y){if(Y.code!==9)throw Y}O(),A&&F(L)}),k.cancelAndHoldAtTime=(B=>A?()=>{throw n()}:(...L)=>{let Y=B.apply(k,L);return O(),Y})(k.cancelAndHoldAtTime),k.cancelScheduledValues=(B=>A?()=>{throw n()}:(...L)=>{let Y=B.apply(k,L);return O(),Y})(k.cancelScheduledValues),k.exponentialRampToValueAtTime=(B=>A?()=>{throw n()}:(...L)=>{let Y=B.apply(k,L);return O(),Y})(k.exponentialRampToValueAtTime),k.linearRampToValueAtTime=(B=>A?()=>{throw n()}:(...L)=>{let Y=B.apply(k,L);return O(),Y})(k.linearRampToValueAtTime),k.setTargetAtTime=(B=>A?()=>{throw n()}:(...L)=>{let Y=B.apply(k,L);return O(),Y})(k.setTargetAtTime),k.setValueAtTime=(B=>A?()=>{throw n()}:(...L)=>{let Y=B.apply(k,L);return O(),Y})(k.setValueAtTime),k.setValueCurveAtTime=(B=>A?()=>{throw n()}:(...L)=>{let Y=B.apply(k,L);return O(),Y})(k.setValueCurveAtTime),k};return{forwardX:T(0,0,w(0)),forwardY:T(1,0,w(1)),forwardZ:T(2,-1,w(2)),positionX:T(6,0,b(0)),positionY:T(7,0,b(1)),positionZ:T(8,0,b(2)),upX:T(3,0,w(3)),upY:T(4,1,w(4)),upZ:T(5,0,w(5))}},{forwardX:m,forwardY:f,forwardZ:d,positionX:h,positionY:x,positionZ:C,upX:y,upY:S,upZ:_}=p.forwardX===void 0?l():p;return{get forwardX(){return m},get forwardY(){return f},get forwardZ(){return d},get positionX(){return h},get positionY(){return x},get positionZ(){return C},get upX(){return y},get upY(){return S},get upZ(){return _}}};var Ge=e=>"context"in e;var ke=e=>Ge(e[0]);var Ae=(e,r,t,o)=>{for(let n of e)if(t(n)){if(o)return!1;throw Error("The set contains at least one similar element.")}return e.add(r),!0};var Lt=(e,r,[t,o],n)=>{Ae(e,[r,t,o],a=>a[0]===r&&a[1]===t,n)};var Bt=(e,[r,t,o],n)=>{let a=e.get(r);a===void 0?e.set(r,new Set([[t,o]])):Ae(a,[t,o],u=>u[0]===t,n)};var Ce=e=>"inputs"in e;var Ke=(e,r,t,o)=>{if(Ce(r)){let n=r.inputs[o];return e.connect(n,t,0),[n,t,0]}return e.connect(r,t,o),[r,t,o]};var Vt=(e,r,t)=>{for(let o of e)if(o[0]===r&&o[1]===t)return e.delete(o),o;return null};var Gr=(e,r,t)=>Fe(e,o=>o[0]===r&&o[1]===t);var Gt=(e,r)=>{if(!Oe(e).delete(r))throw new Error("Missing the expected event listener.")};var Ut=(e,r,t)=>{let o=ne(e,r),n=Fe(o,a=>a[0]===t);return o.size===0&&e.delete(r),n};var Je=(e,r,t,o)=>{Ce(r)?e.disconnect(r.inputs[o],t,0):e.disconnect(r,t,o)};var z=e=>ne(ze,e);var Ue=e=>ne(mt,e);var Te=e=>ht.has(e);var et=e=>!_e.has(e);var qt=(e,r)=>new Promise(t=>{if(r!==null)t(!0);else{let o=e.createScriptProcessor(256,1,1),n=e.createGain(),a=e.createBuffer(1,2,44100),u=a.getChannelData(0);u[0]=1,u[1]=1;let s=e.createBufferSource();s.buffer=a,s.loop=!0,s.connect(o).connect(e.destination),s.connect(n),s.disconnect(n),o.onaudioprocess=c=>{let i=c.inputBuffer.getChannelData(0);Array.prototype.some.call(i,p=>p===1)?t(!0):t(!1),s.stop(),o.onaudioprocess=null,s.disconnect(o),o.disconnect(e.destination)},s.start()}});var Ot=(e,r)=>{let t=new Map;for(let o of e)for(let n of o){let a=t.get(n);t.set(n,a===void 0?1:a+1)}t.forEach((o,n)=>r(n,o))};var qe=e=>"context"in e;var Ur=e=>{let r=new Map;e.connect=(t=>(o,n=0,a=0)=>{let u=qe(o)?t(o,n,a):t(o,n),s=r.get(o);return s===void 0?r.set(o,[{input:a,output:n}]):s.every(c=>c.input!==a||c.output!==n)&&s.push({input:a,output:n}),u})(e.connect.bind(e)),e.disconnect=(t=>(o,n,a)=>{if(t.apply(e),o===void 0)r.clear();else if(typeof o=="number")for(let[u,s]of r){let c=s.filter(i=>i.output!==o);c.length===0?r.delete(u):r.set(u,c)}else if(r.has(o))if(n===void 0)r.delete(o);else{let u=r.get(o);if(u!==void 0){let s=u.filter(c=>c.output!==n&&(c.input!==a||a===void 0));s.length===0?r.delete(o):r.set(o,s)}}for(let[u,s]of r)s.forEach(c=>{qe(u)?e.connect(u,c.output,c.input):e.connect(u,c.output)})})(e.disconnect)};var Na=(e,r,t,o)=>{let{activeInputs:n,passiveInputs:a}=De(r),{outputs:u}=ae(e),s=Oe(e),c=i=>{let p=z(e),l=Ue(r);if(i){let m=Ut(a,e,t);Lt(n,e,m,!1),!o&&!Te(e)&&p.connect(l,t)}else{let m=Gr(n,e,t);Bt(a,m,!1),!o&&!Te(e)&&p.disconnect(l,t)}};return Ae(u,[r,t],i=>i[0]===r&&i[1]===t,!0)?(s.add(c),le(e)?Lt(n,e,[t,c],!0):Bt(a,[e,t,c],!0),!0):!1},Ca=(e,r,t,o)=>{let{activeInputs:n,passiveInputs:a}=ae(r),u=Vt(n[o],e,t);return u===null?[yt(a,e,t,o)[2],!1]:[u[2],!0]},ga=(e,r,t)=>{let{activeInputs:o,passiveInputs:n}=De(r),a=Vt(o,e,t);return a===null?[Ut(n,e,t)[1],!1]:[a[2],!0]},jt=(e,r,t,o,n)=>{let[a,u]=Ca(e,t,o,n);if(a!==null&&(Gt(e,a),u&&!r&&!Te(e)&&Je(z(e),z(t),o,n)),le(t)){let{activeInputs:s}=ae(t);Ct(t,s)}},Zt=(e,r,t,o)=>{let[n,a]=ga(e,t,o);n!==null&&(Gt(e,n),a&&!r&&!Te(e)&&z(e).disconnect(Ue(t),o))},va=(e,r)=>{let t=ae(e),o=[];for(let n of t.outputs)ke(n)?jt(e,r,...n):Zt(e,r,...n),o.push(n[0]);return t.outputs.clear(),o},Aa=(e,r,t)=>{let o=ae(e),n=[];for(let a of o.outputs)a[1]===t&&(ke(a)?jt(e,r,...a):Zt(e,r,...a),n.push(a[0]),o.outputs.delete(a));return n},ya=(e,r,t,o,n)=>{let a=ae(e);return Array.from(a.outputs).filter(u=>u[0]===t&&(o===void 0||u[1]===o)&&(n===void 0||u[2]===n)).map(u=>(ke(u)?jt(e,r,...u):Zt(e,r,...u),a.outputs.delete(u),u[0]))},qr=(e,r,t,o,n,a,u,s,c,i,p,l,m,f,d,h)=>class extends i{constructor(C,y,S,_){super(S),this._context=C,this._nativeAudioNode=S;let N=p(C);l(N)&&t(qt,()=>qt(N,h))!==!0&&Ur(S),ze.set(this,S),At.set(this,new Set),C.state!=="closed"&&y&&ve(this),e(this,_,S)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,y=0,S=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw n();let _=p(this._context),N=d(_);if(m(C)||f(C))throw a();if(Ge(C)){let g=z(C);try{let I=Ke(this._nativeAudioNode,g,y,S),O=et(this);(N||O)&&this._nativeAudioNode.disconnect(...I),this.context.state!=="closed"&&!O&&et(C)&&ve(C)}catch(I){throw I.code===12?a():I}if(r(this,C,y,S,N)){let I=c([this],C);Ot(I,o(N))}return C}let v=Ue(C);if(v.name==="playbackRate"&&v.maxValue===1024)throw u();try{this._nativeAudioNode.connect(v,y),(N||et(this))&&this._nativeAudioNode.disconnect(v,y)}catch(g){throw g.code===12?a():g}if(Na(this,C,y,N)){let g=c([this],C);Ot(g,o(N))}}disconnect(C,y,S){let _,N=p(this._context),v=d(N);if(C===void 0)_=va(this,v);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw n();_=Aa(this,v,C)}else{if(y!==void 0&&(y<0||y>=this.numberOfOutputs)||Ge(C)&&S!==void 0&&(S<0||S>=C.numberOfInputs))throw n();if(_=ya(this,v,C,y,S),_.length===0)throw a()}for(let A of _){let g=c([this],A);Ot(g,s)}}};import{AutomationEventList as Sa}from"/v99/automation-events@6.0.0/deno/automation-events.js";var jr=(e,r,t,o,n,a,u,s,c,i,p,l,m)=>(f,d,h,x=null,C=null)=>{let y=h.value,S=new Sa(y),_=d?o(S):null,N={get defaultValue(){return y},get maxValue(){return x===null?h.maxValue:x},get minValue(){return C===null?h.minValue:C},get value(){return h.value},set value(v){h.value=v,N.setValueAtTime(v,f.context.currentTime)},cancelAndHoldAtTime(v){if(typeof h.cancelAndHoldAtTime=="function")_===null&&S.flush(f.context.currentTime),S.add(n(v)),h.cancelAndHoldAtTime(v);else{let A=Array.from(S).pop();_===null&&S.flush(f.context.currentTime),S.add(n(v));let g=Array.from(S).pop();h.cancelScheduledValues(v),A!==g&&g!==void 0&&(g.type==="exponentialRampToValue"?h.exponentialRampToValueAtTime(g.value,g.endTime):g.type==="linearRampToValue"?h.linearRampToValueAtTime(g.value,g.endTime):g.type==="setValue"?h.setValueAtTime(g.value,g.startTime):g.type==="setValueCurve"&&h.setValueCurveAtTime(g.values,g.startTime,g.duration))}return N},cancelScheduledValues(v){return _===null&&S.flush(f.context.currentTime),S.add(a(v)),h.cancelScheduledValues(v),N},exponentialRampToValueAtTime(v,A){if(v===0)throw new RangeError;if(!Number.isFinite(A)||A<0)throw new RangeError;let g=f.context.currentTime;return _===null&&S.flush(g),Array.from(S).length===0&&(S.add(i(y,g)),h.setValueAtTime(y,g)),S.add(u(v,A)),h.exponentialRampToValueAtTime(v,A),N},linearRampToValueAtTime(v,A){let g=f.context.currentTime;return _===null&&S.flush(g),Array.from(S).length===0&&(S.add(i(y,g)),h.setValueAtTime(y,g)),S.add(s(v,A)),h.linearRampToValueAtTime(v,A),N},setTargetAtTime(v,A,g){return _===null&&S.flush(f.context.currentTime),S.add(c(v,A,g)),h.setTargetAtTime(v,A,g),N},setValueAtTime(v,A){return _===null&&S.flush(f.context.currentTime),S.add(i(v,A)),h.setValueAtTime(v,A),N},setValueCurveAtTime(v,A,g){let M=v instanceof Float32Array?v:new Float32Array(v);if(l!==null&&l.name==="webkitAudioContext"){let I=A+g,O=f.context.sampleRate,w=Math.ceil(A*O),b=Math.floor(I*O),T=b-w,R=new Float32Array(T);for(let F=0;F<T;F+=1){let V=(M.length-1)/g*((w+F)/O-A),k=Math.floor(V),B=Math.ceil(V);R[F]=k===B?M[k]:(1-(V-k))*M[k]+(1-(B-V))*M[B]}_===null&&S.flush(f.context.currentTime),S.add(p(R,A,g)),h.setValueCurveAtTime(R,A,g);let P=b/O;P<I&&m(N,R[R.length-1],P),m(N,M[M.length-1],I)}else _===null&&S.flush(f.context.currentTime),S.add(p(M,A,g)),h.setValueCurveAtTime(M,A,g);return N}};return t.set(N,h),r.set(N,f),e(N,_),N};var Zr=e=>({replay(r){for(let t of e)if(t.type==="exponentialRampToValue"){let{endTime:o,value:n}=t;r.exponentialRampToValueAtTime(n,o)}else if(t.type==="linearRampToValue"){let{endTime:o,value:n}=t;r.linearRampToValueAtTime(n,o)}else if(t.type==="setTarget"){let{startTime:o,target:n,timeConstant:a}=t;r.setTargetAtTime(n,o,a)}else if(t.type==="setValue"){let{startTime:o,value:n}=t;r.setValueAtTime(n,o)}else if(t.type==="setValueCurve"){let{duration:o,startTime:n,values:a}=t;r.setValueCurveAtTime(a,n,o)}else throw new Error("Can't apply an unknown automation.")}});var tt=class{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,t=null){return this._map.forEach((o,n)=>r.call(t,o,n,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}};var wa={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Xr=(e,r,t,o,n,a,u,s,c,i,p,l,m,f)=>class extends r{constructor(h,x,C){var y;let S=s(h),_=c(S),N=p({...wa,...C});m(N);let v=xt.get(S),A=v?.get(x),g=_||S.state!=="closed"?S:(y=u(S))!==null&&y!==void 0?y:S,M=n(g,_?null:h.baseLatency,i,x,A,N),I=_?o(x,N,A):null;super(h,!0,M,I);let O=[];M.parameters.forEach((b,T)=>{let R=t(this,_,b);O.push([T,R])}),this._nativeAudioWorkletNode=M,this._onprocessorerror=null,this._parameters=new tt(O),_&&e(S,this);let{activeInputs:w}=a(this);l(M,w)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(h){let x=typeof h=="function"?f(this,h):null;this._nativeAudioWorkletNode.onprocessorerror=x;let C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===x?h:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function rt(e,r,t,o,n){if(typeof e.copyFromChannel=="function")r[t].byteLength===0&&(r[t]=new Float32Array(128)),e.copyFromChannel(r[t],o,n);else{let a=e.getChannelData(o);if(r[t].byteLength===0)r[t]=a.slice(n,n+128);else{let u=new Float32Array(a.buffer,n*Float32Array.BYTES_PER_ELEMENT,128);r[t].set(u)}}}var It=(e,r,t,o,n)=>{typeof e.copyToChannel=="function"?r[t].byteLength!==0&&e.copyToChannel(r[t],o,n):r[t].byteLength!==0&&e.getChannelData(o).set(r[t],n)};var ot=(e,r)=>{let t=[];for(let o=0;o<e;o+=1){let n=[],a=typeof r=="number"?r:r[o];for(let u=0;u<a;u+=1)n.push(new Float32Array(128));t.push(n)}return t};var Yr=(e,r)=>{let t=ne(Nt,e),o=z(r);return ne(t,o)};var _a=async(e,r,t,o,n,a,u)=>{let s=r===null?Math.ceil(e.context.length/128)*128:r.length,c=o.channelCount*o.numberOfInputs,i=n.reduce((x,C)=>x+C,0),p=i===0?null:t.createBuffer(i,s,t.sampleRate);if(a===void 0)throw new Error("Missing the processor constructor.");let l=ae(e),m=await Yr(t,e),f=ot(o.numberOfInputs,o.channelCount),d=ot(o.numberOfOutputs,n),h=Array.from(e.parameters.keys()).reduce((x,C)=>({...x,[C]:new Float32Array(128)}),{});for(let x=0;x<s;x+=128){if(o.numberOfInputs>0&&r!==null)for(let C=0;C<o.numberOfInputs;C+=1)for(let y=0;y<o.channelCount;y+=1)rt(r,f[C],y,y,x);a.parameterDescriptors!==void 0&&r!==null&&a.parameterDescriptors.forEach(({name:C},y)=>{rt(r,h,C,c+y,x)});for(let C=0;C<o.numberOfInputs;C+=1)for(let y=0;y<n[C];y+=1)d[C][y].byteLength===0&&(d[C][y]=new Float32Array(128));try{let C=f.map((S,_)=>l.activeInputs[_].size===0?[]:S),y=u(x/t.sampleRate,t.sampleRate,()=>m.process(C,d,h));if(p!==null)for(let S=0,_=0;S<o.numberOfOutputs;S+=1){for(let N=0;N<n[S];N+=1)It(p,d[S],N,_+N,x);_+=n[S]}if(!y)break}catch(C){e.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return p},zr=(e,r,t,o,n,a,u,s,c,i,p,l,m,f,d,h)=>(x,C,y)=>{let S=new WeakMap,_=null,N=async(v,A)=>{let g=p(v),M=null,I=q(g,A),O=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(l===null){let w=O.reduce((P,F)=>P+F,0),b=n(A,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),T=[];for(let P=0;P<v.numberOfOutputs;P+=1)T.push(o(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[P]}));let R=u(A,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});R.connect=r.bind(null,T),R.disconnect=c.bind(null,T),M=[b,T,R]}else I||(g=new l(A,x));if(S.set(A,M===null?g:M[2]),M!==null){if(_===null){if(y===void 0)throw new Error("Missing the processor constructor.");if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");let F=v.channelCount*v.numberOfInputs,V=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length,k=F+V;_=_a(v,k===0?null:await(async()=>{let L=new m(k,Math.ceil(v.context.length/128)*128,A.sampleRate),Y=[],fe=[];for(let $=0;$<C.numberOfInputs;$+=1)Y.push(u(L,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),fe.push(n(L,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));let me=await Promise.all(Array.from(v.parameters.values()).map(async $=>{let pe=a(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$.value});return await f(L,$,pe.offset),pe})),U=o(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,F+V)});for(let $=0;$<C.numberOfInputs;$+=1){Y[$].connect(fe[$]);for(let pe=0;pe<C.channelCount;pe+=1)fe[$].connect(U,pe,$*C.channelCount+pe)}for(let[$,pe]of me.entries())pe.connect(U,0,F+$),pe.start(0);return U.connect(L.destination),await Promise.all(Y.map($=>d(v,L,$))),h(L)})(),A,C,O,y,i)}let w=await _,b=t(A,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[T,R,P]=M;w!==null&&(b.buffer=w,b.start(0)),b.connect(T);for(let F=0,V=0;F<v.numberOfOutputs;F+=1){let k=R[F];for(let B=0;B<O[F];B+=1)T.connect(k,V+B,B);V+=O[F]}return P}if(I)for(let[w,b]of v.parameters.entries())await e(A,b,g.parameters.get(w));else for(let[w,b]of v.parameters.entries())await f(A,b,g.parameters.get(w));return await d(v,A,g),g};return{render(v,A){s(A,v);let g=S.get(A);return g!==void 0?Promise.resolve(g):N(v,A)}}};var Qr=(e,r,t,o,n,a,u,s,c,i,p,l,m,f,d,h,x,C,y,S)=>class extends d{constructor(N,v){super(N,v),this._nativeContext=N,this._audioWorklet=e===void 0?void 0:{addModule:(A,g)=>e(this,A,g)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new n(this)}createBuffer(N,v,A){return new t({length:v,numberOfChannels:N,sampleRate:A})}createBufferSource(){return new o(this)}createChannelMerger(N=6){return new a(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new u(this,{numberOfOutputs:N})}createConstantSource(){return new s(this)}createConvolver(){return new c(this)}createDelay(N=1){return new p(this,{maxDelayTime:N})}createDynamicsCompressor(){return new l(this)}createGain(){return new m(this)}createIIRFilter(N,v){return new f(this,{feedback:v,feedforward:N})}createOscillator(){return new h(this)}createPanner(){return new x(this)}createPeriodicWave(N,v,A={disableNormalization:!1}){return new C(this,{...A,imag:v,real:N})}createStereoPanner(){return new y(this)}createWaveShaper(){return new S(this)}decodeAudioData(N,v,A){return i(this._nativeContext,N).then(g=>(typeof v=="function"&&v(g),g),g=>{throw typeof A=="function"&&A(g),g})}};var Oa={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Hr=(e,r,t,o,n,a,u,s)=>class extends e{constructor(i,p){let l=a(i),m={...Oa,...p},f=n(l,m),d=u(l),h=d?t():null;super(i,!1,f,h),this._Q=r(this,d,f.Q,te,re),this._detune=r(this,d,f.detune,1200*Math.log2(te),-1200*Math.log2(te)),this._frequency=r(this,d,f.frequency,i.sampleRate/2,0),this._gain=r(this,d,f.gain,40*Math.log10(te),re),this._nativeBiquadFilterNode=f,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(i){this._nativeBiquadFilterNode.type=i}getFrequencyResponse(i,p,l){try{this._nativeBiquadFilterNode.getFrequencyResponse(i,p,l)}catch(m){throw m.code===11?o():m}if(i.length!==p.length||p.length!==l.length)throw o()}};var $r=(e,r,t,o,n)=>()=>{let a=new WeakMap,u=async(s,c)=>{let i=t(s),p=q(i,c);if(!p){let l={Q:i.Q.value,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,detune:i.detune.value,frequency:i.frequency.value,gain:i.gain.value,type:i.type};i=r(c,l)}return a.set(c,i),p?(await e(c,s.Q,i.Q),await e(c,s.detune,i.detune),await e(c,s.frequency,i.frequency),await e(c,s.gain,i.gain)):(await o(c,s.Q,i.Q),await o(c,s.detune,i.detune),await o(c,s.frequency,i.frequency),await o(c,s.gain,i.gain)),await n(s,c,i),i};return{render(s,c){let i=a.get(c);return i!==void 0?Promise.resolve(i):u(s,c)}}};var Kr=(e,r)=>(t,o)=>{let n=r.get(t);if(n!==void 0)return n;let a=e.get(t);if(a!==void 0)return a;try{let u=o();return u instanceof Promise?(e.set(t,u),u.catch(()=>!1).then(s=>(e.delete(t),r.set(t,s),s))):(r.set(t,u),u)}catch{return r.set(t,!1),!1}};var Ia={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Jr=(e,r,t,o,n)=>class extends e{constructor(u,s){let c=o(u),i={...Ia,...s},p=t(c,i),l=n(c)?r():null;super(u,!1,p,l)}};var eo=(e,r,t)=>()=>{let o=new WeakMap,n=async(a,u)=>{let s=r(a);if(!q(s,u)){let i={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=e(u,i)}return o.set(u,s),await t(a,u,s),s};return{render(a,u){let s=o.get(u);return s!==void 0?Promise.resolve(s):n(a,u)}}};var Ma={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},to=(e,r,t,o,n,a)=>class extends e{constructor(s,c){let i=o(s),p=a({...Ma,...c}),l=t(i,p),m=n(i)?r():null;super(s,!1,l,m)}};var ro=(e,r,t)=>()=>{let o=new WeakMap,n=async(a,u)=>{let s=r(a);if(!q(s,u)){let i={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=e(u,i)}return o.set(u,s),await t(a,u,s),s};return{render(a,u){let s=o.get(u);return s!==void 0?Promise.resolve(s):n(a,u)}}};var oo=e=>(r,t,o)=>e(t,r,o);var no=e=>(r,t,o=0,n=0)=>{let a=r[o];if(a===void 0)throw e();return qe(t)?a.connect(t,0,n):a.connect(t,0)};var so=e=>(r,t)=>{let o=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),n=r.createBuffer(1,2,44100);return o.buffer=n,o.loop=!0,o.connect(t),o.start(),()=>{o.stop(),o.disconnect(t)}};var Ea={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ao=(e,r,t,o,n,a,u)=>class extends e{constructor(c,i){let p=n(c),l={...Ea,...i},m=o(p,l),f=a(p),d=f?t():null;super(c,!1,m,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=m,this._offset=r(this,f,m.offset,te,re),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){let i=typeof c=="function"?u(this,c):null;this._nativeConstantSourceNode.onended=i;let p=this._nativeConstantSourceNode.onended;this._onended=p!==null&&p===i?c:p}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){ve(this);let i=()=>{this._nativeConstantSourceNode.removeEventListener("ended",i),le(this)&&Ie(this)};this._nativeConstantSourceNode.addEventListener("ended",i)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}};var io=(e,r,t,o,n)=>()=>{let a=new WeakMap,u=null,s=null,c=async(i,p)=>{let l=t(i),m=q(l,p);if(!m){let f={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,offset:l.offset.value};l=r(p,f),u!==null&&l.start(u),s!==null&&l.stop(s)}return a.set(p,l),m?await e(p,i.offset,l.offset):await o(p,i.offset,l.offset),await n(i,p,l),l};return{set start(i){u=i},set stop(i){s=i},render(i,p){let l=a.get(p);return l!==void 0?Promise.resolve(l):c(i,p)}}};var co=e=>r=>(e[0]=r,e[0]);var Ta={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},uo=(e,r,t,o,n,a)=>class extends e{constructor(s,c){let i=o(s),p={...Ta,...c},l=t(i,p),f=n(i)?r():null;super(s,!1,l,f),this._isBufferNullified=!1,this._nativeConvolverNode=l,p.buffer!==null&&a(this,p.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(s){if(this._nativeConvolverNode.buffer=s,s===null&&this._nativeConvolverNode.buffer!==null){let c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(s){this._nativeConvolverNode.normalize=s}};var po=(e,r,t)=>()=>{let o=new WeakMap,n=async(a,u)=>{let s=r(a);if(!q(s,u)){let i={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=e(u,i)}return o.set(u,s),Ce(s)?await t(a,u,s.inputs[0]):await t(a,u,s),s};return{render(a,u){let s=o.get(u);return s!==void 0?Promise.resolve(s):n(a,u)}}};var lo=(e,r)=>(t,o,n)=>{if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new r(t,o,n)}catch(a){throw a.name==="SyntaxError"?e():a}};var fo=()=>new DOMException("","DataCloneError");var Xt=e=>{let{port1:r,port2:t}=new MessageChannel;return new Promise(o=>{let n=()=>{t.onmessage=null,r.close(),t.close(),o()};t.onmessage=()=>n();try{r.postMessage(e,[e])}catch{}finally{n()}})};var mo=(e,r,t,o,n,a,u,s,c,i,p)=>(l,m)=>{let f=u(l)?l:a(l);if(n.has(m)){let d=t();return Promise.reject(d)}try{n.add(m)}catch{}return r(c,()=>c(f))?f.decodeAudioData(m).then(d=>(Xt(m).catch(()=>{}),r(s,()=>s(d))||p(d),e.add(d),d)):new Promise((d,h)=>{let x=async()=>{try{await Xt(m)}catch{}},C=y=>{h(y),x()};try{f.decodeAudioData(m,y=>{typeof y.copyFromChannel!="function"&&(i(y),$e(y)),e.add(y),x().then(()=>d(y))},y=>{C(y===null?o():y)})}catch(y){C(y)}})};var ho=(e,r,t,o,n,a,u,s)=>(c,i)=>{let p=r.get(c);if(p===void 0)throw new Error("Missing the expected cycle count.");let l=a(c.context),m=s(l);if(p===i){if(r.delete(c),!m&&u(c)){let f=o(c),{outputs:d}=t(c);for(let h of d)if(ke(h)){let x=o(h[0]);e(f,x,h[1],h[2])}else{let x=n(h[0]);f.connect(x,h[1])}}}else r.set(c,p-i)};var ba={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},xo=(e,r,t,o,n,a,u)=>class extends e{constructor(c,i){let p=n(c),l={...ba,...i},m=o(p,l),f=a(p),d=f?t(l.maxDelayTime):null;super(c,!1,m,d),this._delayTime=r(this,f,m.delayTime),u(this,l.maxDelayTime)}get delayTime(){return this._delayTime}};var No=(e,r,t,o,n)=>a=>{let u=new WeakMap,s=async(c,i)=>{let p=t(c),l=q(p,i);if(!l){let m={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,delayTime:p.delayTime.value,maxDelayTime:a};p=r(i,m)}return u.set(i,p),l?await e(i,c.delayTime,p.delayTime):await o(i,c.delayTime,p.delayTime),await n(c,i,p),p};return{render(c,i){let p=u.get(i);return p!==void 0?Promise.resolve(p):s(c,i)}}};var Co=e=>(r,t,o,n)=>e(r[n],a=>a[0]===t&&a[1]===o);var go=e=>(r,t)=>{e(r).delete(t)};var vo=e=>"delayTime"in e;var Ao=(e,r,t)=>function o(n,a){let u=Ge(a)?a:t(e,a);if(vo(u))return[];if(n[0]===u)return[n];if(n.includes(u))return[];let{outputs:s}=r(u);return Array.from(s).map(c=>o([...n,u],c[0])).reduce((c,i)=>c.concat(i),[])};var Mt=(e,r,t)=>{let o=r[t];if(o===void 0)throw e();return o},yo=e=>(r,t=void 0,o=void 0,n=0)=>t===void 0?r.forEach(a=>a.disconnect()):typeof t=="number"?Mt(e,r,t).disconnect():qe(t)?o===void 0?r.forEach(a=>a.disconnect(t)):n===void 0?Mt(e,r,o).disconnect(t,0):Mt(e,r,o).disconnect(t,0,n):o===void 0?r.forEach(a=>a.disconnect(t)):Mt(e,r,o).disconnect(t,0);var Pa={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},So=(e,r,t,o,n,a,u,s)=>class extends e{constructor(i,p){let l=a(i),m={...Pa,...p},f=o(l,m),d=u(l),h=d?t():null;super(i,!1,f,h),this._attack=r(this,d,f.attack),this._knee=r(this,d,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=r(this,d,f.ratio),this._release=r(this,d,f.release),this._threshold=r(this,d,f.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(i){let p=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=i,i>2)throw this._nativeDynamicsCompressorNode.channelCount=p,n()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(i){let p=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=i,i==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=p,n()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}};var wo=(e,r,t,o,n)=>()=>{let a=new WeakMap,u=async(s,c)=>{let i=t(s),p=q(i,c);if(!p){let l={attack:i.attack.value,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,knee:i.knee.value,ratio:i.ratio.value,release:i.release.value,threshold:i.threshold.value};i=r(c,l)}return a.set(c,i),p?(await e(c,s.attack,i.attack),await e(c,s.knee,i.knee),await e(c,s.ratio,i.ratio),await e(c,s.release,i.release),await e(c,s.threshold,i.threshold)):(await o(c,s.attack,i.attack),await o(c,s.knee,i.knee),await o(c,s.ratio,i.ratio),await o(c,s.release,i.release),await o(c,s.threshold,i.threshold)),await n(s,c,i),i};return{render(s,c){let i=a.get(c);return i!==void 0?Promise.resolve(i):u(s,c)}}};var _o=()=>new DOMException("","EncodingError");var Oo=e=>r=>new Promise((t,o)=>{if(e===null){o(new SyntaxError);return}let n=e.document.head;if(n===null)o(new SyntaxError);else{let a=e.document.createElement("script"),u=new Blob([r],{type:"application/javascript"}),s=URL.createObjectURL(u),c=e.onerror,i=()=>{e.onerror=c,URL.revokeObjectURL(s)};e.onerror=(p,l,m,f,d)=>{if(l===s||l===e.location.href&&m===1&&f===1)return i(),o(d),!1;if(c!==null)return c(p,l,m,f,d)},a.onerror=()=>{i(),o(new SyntaxError)},a.onload=()=>{i(),t()},a.src=s,a.type="module",n.appendChild(a)}});var Io=e=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,o,n){if(o!==null){let a=this._listeners.get(o);a===void 0&&(a=e(this,o),typeof o=="function"&&this._listeners.set(o,a)),this._nativeEventTarget.addEventListener(t,a,n)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,o,n){let a=o===null?void 0:this._listeners.get(o);this._nativeEventTarget.removeEventListener(t,a===void 0?null:a,n)}};var Mo=e=>(r,t,o)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(r*t)}},currentTime:{configurable:!0,get(){return r}}});try{return o()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}};var Eo=e=>async r=>{try{let t=await fetch(r);if(t.ok)return[await t.text(),t.url]}catch{}throw e()};var Fa={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},To=(e,r,t,o,n,a)=>class extends e{constructor(s,c){let i=n(s),p={...Fa,...c},l=o(i,p),m=a(i),f=m?t():null;super(s,!1,l,f),this._gain=r(this,m,l.gain,te,re)}get gain(){return this._gain}};var bo=(e,r,t,o,n)=>()=>{let a=new WeakMap,u=async(s,c)=>{let i=t(s),p=q(i,c);if(!p){let l={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:i.gain.value};i=r(c,l)}return a.set(c,i),p?await e(c,s.gain,i.gain):await o(c,s.gain,i.gain),await n(s,c,i),i};return{render(s,c){let i=a.get(c);return i!==void 0?Promise.resolve(i):u(s,c)}}};var Po=(e,r)=>t=>r(e,t);var Fo=e=>r=>{let t=e(r);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer};var Do=e=>r=>{var t;return(t=e.get(r))!==null&&t!==void 0?t:0};var Ro=e=>r=>{let t=e(r);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer};var ko=e=>r=>e.get(r);var K=()=>new DOMException("","InvalidStateError");var Wo=e=>r=>{let t=e.get(r);if(t===void 0)throw K();return t};var Lo=(e,r)=>t=>{let o=e.get(t);if(o!==void 0)return o;if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");return o=new r(1,1,44100),e.set(t,o),o};var Bo=e=>r=>{let t=e.get(r);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t};var nt=()=>new DOMException("","InvalidAccessError");var Vo=e=>{e.getFrequencyResponse=(r=>(t,o,n)=>{if(t.length!==o.length||o.length!==n.length)throw nt();return r.call(e,t,o,n)})(e.getFrequencyResponse)};var Da={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Go=(e,r,t,o,n,a)=>class extends e{constructor(s,c){let i=o(s),p=n(i),l={...Da,...c},m=r(i,p?null:s.baseLatency,l),f=p?t(l.feedback,l.feedforward):null;super(s,!1,m,f),Vo(m),this._nativeIIRFilterNode=m,a(this,1)}getFrequencyResponse(s,c,i){return this._nativeIIRFilterNode.getFrequencyResponse(s,c,i)}};var Et=(e,r,t,o,n,a,u,s,c,i,p)=>{let l=i.length,m=s;for(let f=0;f<l;f+=1){let d=t[0]*i[f];for(let h=1;h<n;h+=1){let x=m-h&c-1;d+=t[h]*a[x],d-=e[h]*u[x]}for(let h=n;h<o;h+=1)d+=t[h]*a[m-h&c-1];for(let h=n;h<r;h+=1)d-=e[h]*u[m-h&c-1];a[m]=i[f],u[m]=d,m=m+1&c-1,p[f]=d}return m};var Ra=(e,r,t,o)=>{let n=t instanceof Float64Array?t:new Float64Array(t),a=o instanceof Float64Array?o:new Float64Array(o),u=n.length,s=a.length,c=Math.min(u,s);if(n[0]!==1){for(let d=0;d<u;d+=1)a[d]/=n[0];for(let d=1;d<s;d+=1)n[d]/=n[0]}let i=32,p=new Float32Array(i),l=new Float32Array(i),m=r.createBuffer(e.numberOfChannels,e.length,e.sampleRate),f=e.numberOfChannels;for(let d=0;d<f;d+=1){let h=e.getChannelData(d),x=m.getChannelData(d);p.fill(0),l.fill(0),Et(n,u,a,s,c,p,l,0,i,h,x)}return m},Uo=(e,r,t,o,n)=>(a,u)=>{let s=new WeakMap,c=null,i=async(p,l)=>{let m=null,f=r(p),d=q(f,l);if(l.createIIRFilter===void 0?m=e(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(f=l.createIIRFilter(u,a)),s.set(l,m===null?f:m),m!==null){if(c===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");let x=new t(p.context.destination.channelCount,p.context.length,l.sampleRate);c=(async()=>{await o(p,x,x.destination);let C=await n(x);return Ra(C,l,a,u)})()}let h=await c;return m.buffer=h,m.start(0),m}return await o(p,l,f),f};return{render(p,l){let m=s.get(l);return m!==void 0?Promise.resolve(m):i(p,l)}}};var qo=(e,r,t,o,n,a)=>u=>(s,c)=>{let i=e.get(s);if(i===void 0){if(!u&&a(s)){let p=o(s),{outputs:l}=t(s);for(let m of l)if(ke(m)){let f=o(m[0]);r(p,f,m[1],m[2])}else{let f=n(m[0]);p.disconnect(f,m[1])}}e.set(s,c)}else e.set(s,i+c)};var jo=(e,r)=>t=>{let o=e.get(t);return r(o)||r(t)};var Zo=(e,r)=>t=>e.has(t)||r(t);var Xo=(e,r)=>t=>e.has(t)||r(t);var Yo=(e,r)=>t=>{let o=e.get(t);return r(o)||r(t)};var zo=e=>r=>e!==null&&r instanceof e;var Qo=e=>r=>e!==null&&typeof e.AudioNode=="function"&&r instanceof e.AudioNode;var Ho=e=>r=>e!==null&&typeof e.AudioParam=="function"&&r instanceof e.AudioParam;var $o=(e,r)=>t=>e(t)||r(t);var Ko=e=>r=>e!==null&&r instanceof e;var Jo=e=>e!==null&&e.isSecureContext;var en=async(e,r,t,o,n,a,u,s,c,i,p,l,m,f,d,h)=>e(r,r)&&e(t,t)&&e(n,n)&&e(a,a)&&e(s,s)&&e(c,c)&&e(i,i)&&e(p,p)&&e(l,l)&&e(m,m)&&e(f,f)?(await Promise.all([e(o,o),e(u,u),e(d,d),e(h,h)])).every(C=>C):!1;var tn=(e,r,t,o)=>class extends e{constructor(a,u){let s=t(a),c=r(s,u);if(o(s))throw TypeError();super(a,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}};var ka={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},rn=(e,r,t,o)=>class extends e{constructor(a,u){let s=t(a);if(o(s))throw new TypeError;let c={...ka,...u},i=r(s,c);super(a,!1,i,null),this._nativeMediaStreamAudioDestinationNode=i}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}};var on=(e,r,t,o)=>class extends e{constructor(a,u){let s=t(a),c=r(s,u);if(o(s))throw new TypeError;super(a,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}};var nn=(e,r,t)=>class extends e{constructor(n,a){let u=t(n),s=r(u,a);super(n,!0,s,null)}};var sn=(e,r,t,o,n)=>class extends o{constructor(u={}){if(n===null)throw new Error("Missing the native AudioContext constructor.");let s;try{s=new n(u)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?r():p}if(s===null)throw t();if(!_t(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&s.sampleRate!==u.sampleRate)throw r();super(s,2);let{latencyHint:c}=u,{sampleRate:i}=s;if(this._baseLatency=typeof s.baseLatency=="number"?s.baseLatency:c==="balanced"?512/i:c==="interactive"||c===void 0?256/i:c==="playback"?1024/i:Math.max(2,Math.min(128,Math.round(c*i/128)))*128/i,this._nativeAudioContext=s,n.name==="webkitAudioContext"?(this._nativeGainNode=s.createGain(),this._nativeOscillatorNode=s.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(s.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,s.state==="running"){this._state="suspended";let p=()=>{this._state==="suspended"&&(this._state=null),s.removeEventListener("statechange",p)};s.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Re(this)}))}resume(){return this._state==="suspended"?new Promise((u,s)=>{let c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?u():this.resume().then(u,s)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}};var an=(e,r,t,o,n,a)=>class extends t{constructor(s,c){super(s),this._nativeContext=s,Qe.set(this,s),o(s)&&n.set(s,new Set),this._destination=new e(this,c),this._listener=r(this,s),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(s){let c=typeof s=="function"?a(this,s):null;this._nativeContext.onstatechange=c;let i=this._nativeContext.onstatechange;this._onstatechange=i!==null&&i===c?s:i}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}};var ye=e=>{let r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let t=e.decodeAudioData(r.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1};var Wa={numberOfChannels:1},cn=(e,r,t,o,n)=>class extends o{constructor(u){let{length:s,numberOfChannels:c,sampleRate:i}={...Wa,...u},p=t(c,s,i);e(ye,()=>ye(p))||p.addEventListener("statechange",(()=>{let l=0,m=f=>{this._state==="running"&&(l>0?(p.removeEventListener("statechange",m),f.stopImmediatePropagation(),this._waitForThePromiseToSettle(f)):l+=1)};return m})()),super(p,c),this._length=s,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(r()):(this._state="running",n(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Re(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}};var un=(e,r)=>(t,o,n)=>{let a=new Set;return t.connect=(u=>(s,c=0,i=0)=>{let p=a.size===0;if(r(s))return u.call(t,s,c,i),e(a,[s,c,i],l=>l[0]===s&&l[1]===c&&l[2]===i,!0),p&&o(),s;u.call(t,s,c),e(a,[s,c],l=>l[0]===s&&l[1]===c,!0),p&&o()})(t.connect),t.disconnect=(u=>(s,c,i)=>{let p=a.size>0;if(s===void 0)u.apply(t),a.clear();else if(typeof s=="number"){u.call(t,s);for(let m of a)m[1]===s&&a.delete(m)}else{r(s)?u.call(t,s,c,i):u.call(t,s,c);for(let m of a)m[0]===s&&(c===void 0||m[1]===c)&&(i===void 0||m[2]===i)&&a.delete(m)}let l=a.size===0;p&&l&&n()})(t.disconnect),t};var j=(e,r,t)=>{let o=r[t];o!==void 0&&o!==e[t]&&(e[t]=o)};var G=(e,r)=>{j(e,r,"channelCount"),j(e,r,"channelCountMode"),j(e,r,"channelInterpretation")};var Yt=e=>typeof e.getFloatTimeDomainData=="function";var pn=e=>{e.getFloatTimeDomainData=r=>{let t=new Uint8Array(r.length);e.getByteTimeDomainData(t);let o=Math.max(t.length,e.fftSize);for(let n=0;n<o;n+=1)r[n]=(t[n]-128)*.0078125;return r}};var ln=(e,r)=>(t,o)=>{let n=t.createAnalyser();if(G(n,o),!(o.maxDecibels>o.minDecibels))throw r();return j(n,o,"fftSize"),j(n,o,"maxDecibels"),j(n,o,"minDecibels"),j(n,o,"smoothingTimeConstant"),e(Yt,()=>Yt(n))||pn(n),n};var dn=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null;var X=(e,r,t)=>{let o=r[t];o!==void 0&&o!==e[t].value&&(e[t].value=o)};var fn=e=>{e.start=(r=>{let t=!1;return(o=0,n=0,a)=>{if(t)throw K();r.call(e,o,n,a),t=!0}})(e.start)};var st=e=>{e.start=(r=>(t=0,o=0,n)=>{if(typeof n=="number"&&n<0||o<0||t<0)throw new RangeError("The parameters can't be negative.");r.call(e,t,o,n)})(e.start)};var at=e=>{e.stop=(r=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");r.call(e,t)})(e.stop)};var mn=(e,r,t,o,n,a,u,s,c,i,p)=>(l,m)=>{let f=l.createBufferSource();return G(f,m),X(f,m,"playbackRate"),j(f,m,"buffer"),j(f,m,"loop"),j(f,m,"loopEnd"),j(f,m,"loopStart"),r(t,()=>t(l))||fn(f),r(o,()=>o(l))||c(f),r(n,()=>n(l))||i(f,l),r(a,()=>a(l))||st(f),r(u,()=>u(l))||p(f,l),r(s,()=>s(l))||at(f),e(l,f),f};var hn=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null;var xn=(e,r)=>(t,o,n)=>{let a=t.destination;if(a.channelCount!==o)try{a.channelCount=o}catch{}n&&a.channelCountMode!=="explicit"&&(a.channelCountMode="explicit"),a.maxChannelCount===0&&Object.defineProperty(a,"maxChannelCount",{value:o});let u=e(t,{channelCount:o,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return r(u,"channelCount",s=>()=>s.call(u),s=>c=>{s.call(u,c);try{a.channelCount=c}catch(i){if(c>a.maxChannelCount)throw i}}),r(u,"channelCountMode",s=>()=>s.call(u),s=>c=>{s.call(u,c),a.channelCountMode=c}),r(u,"channelInterpretation",s=>()=>s.call(u),s=>c=>{s.call(u,c),a.channelInterpretation=c}),Object.defineProperty(u,"maxChannelCount",{get:()=>a.maxChannelCount}),u.connect(a),u};var Nn=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null;var Cn=e=>{let{port1:r}=new MessageChannel;try{r.postMessage(e)}finally{r.close()}};var gn=(e,r,t,o,n)=>(a,u,s,c,i,p)=>{if(s!==null)try{let l=new s(a,c,p),m=new Map,f=null;if(Object.defineProperties(l,{channelCount:{get:()=>p.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>f,set:d=>{typeof f=="function"&&l.removeEventListener("processorerror",f),f=typeof d=="function"?d:null,typeof f=="function"&&l.addEventListener("processorerror",f)}}}),l.addEventListener=(d=>(...h)=>{if(h[0]==="processorerror"){let x=typeof h[1]=="function"?h[1]:typeof h[1]=="object"&&h[1]!==null&&typeof h[1].handleEvent=="function"?h[1].handleEvent:null;if(x!==null){let C=m.get(h[1]);C!==void 0?h[1]=C:(h[1]=y=>{y.type==="error"?(Object.defineProperties(y,{type:{value:"processorerror"}}),x(y)):x(new ErrorEvent(h[0],{...y}))},m.set(x,h[1]))}}return d.call(l,"error",h[1],h[2]),d.call(l,...h)})(l.addEventListener),l.removeEventListener=(d=>(...h)=>{if(h[0]==="processorerror"){let x=m.get(h[1]);x!==void 0&&(m.delete(h[1]),h[1]=x)}return d.call(l,"error",h[1],h[2]),d.call(l,h[0],h[1],h[2])})(l.removeEventListener),p.numberOfOutputs!==0){let d=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return l.connect(d).connect(a.destination),n(l,()=>d.disconnect(),()=>d.connect(a.destination))}return l}catch(l){throw l.code===11?o():l}if(i===void 0)throw o();return Cn(p),r(a,u,i,p)};var Tt=(e,r)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*r)))));var vn=e=>new Promise((r,t)=>{let{port1:o,port2:n}=new MessageChannel;o.onmessage=({data:a})=>{o.close(),n.close(),r(a)},o.onmessageerror=({data:a})=>{o.close(),n.close(),t(a)},n.postMessage(e)});var An=async(e,r)=>{let t=await vn(r);return new e(t)};var yn=(e,r,t,o)=>{let n=Nt.get(e);n===void 0&&(n=new WeakMap,Nt.set(e,n));let a=An(t,o);return n.set(r,a),a};var Sn=(e,r,t,o,n,a,u,s,c,i,p,l,m)=>(f,d,h,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw c();let C=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(C.some(E=>E<1))throw c();if(C.length!==x.numberOfOutputs)throw r();if(x.channelCountMode!=="explicit")throw c();let y=x.channelCount*x.numberOfInputs,S=C.reduce((E,W)=>E+W,0),_=h.parameterDescriptors===void 0?0:h.parameterDescriptors.length;if(y+_>6||S>6)throw c();let N=new MessageChannel,v=[],A=[];for(let E=0;E<x.numberOfInputs;E+=1)v.push(u(f,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),A.push(n(f,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));let g=[];if(h.parameterDescriptors!==void 0)for(let{defaultValue:E,maxValue:W,minValue:se,name:J}of h.parameterDescriptors){let Z=a(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[J]!==void 0?x.parameterData[J]:E===void 0?0:E});Object.defineProperties(Z.offset,{defaultValue:{get:()=>E===void 0?0:E},maxValue:{get:()=>W===void 0?te:W},minValue:{get:()=>se===void 0?re:se}}),g.push(Z)}let M=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+_)}),I=Tt(d,f.sampleRate),O=s(f,I,y+_,Math.max(1,S)),w=n(f,{channelCount:Math.max(1,S),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,S)}),b=[];for(let E=0;E<x.numberOfOutputs;E+=1)b.push(o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[E]}));for(let E=0;E<x.numberOfInputs;E+=1){v[E].connect(A[E]);for(let W=0;W<x.channelCount;W+=1)A[E].connect(M,W,E*x.channelCount+W)}let T=new tt(h.parameterDescriptors===void 0?[]:h.parameterDescriptors.map(({name:E},W)=>{let se=g[W];return se.connect(M,0,y+W),se.start(0),[E,se.offset]}));M.connect(O);let R=x.channelInterpretation,P=null,F=x.numberOfOutputs===0?[O]:b,V={get bufferSize(){return I},get channelCount(){return x.channelCount},set channelCount(E){throw t()},get channelCountMode(){return x.channelCountMode},set channelCountMode(E){throw t()},get channelInterpretation(){return R},set channelInterpretation(E){for(let W of v)W.channelInterpretation=E;R=E},get context(){return O.context},get inputs(){return v},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return P},set onprocessorerror(E){typeof P=="function"&&V.removeEventListener("processorerror",P),P=typeof E=="function"?E:null,typeof P=="function"&&V.addEventListener("processorerror",P)},get parameters(){return T},get port(){return N.port2},addEventListener(...E){return O.addEventListener(E[0],E[1],E[2])},connect:e.bind(null,F),disconnect:i.bind(null,F),dispatchEvent(...E){return O.dispatchEvent(E[0])},removeEventListener(...E){return O.removeEventListener(E[0],E[1],E[2])}},k=new Map;N.port1.addEventListener=(E=>(...W)=>{if(W[0]==="message"){let se=typeof W[1]=="function"?W[1]:typeof W[1]=="object"&&W[1]!==null&&typeof W[1].handleEvent=="function"?W[1].handleEvent:null;if(se!==null){let J=k.get(W[1]);J!==void 0?W[1]=J:(W[1]=Z=>{p(f.currentTime,f.sampleRate,()=>se(Z))},k.set(se,W[1]))}}return E.call(N.port1,W[0],W[1],W[2])})(N.port1.addEventListener),N.port1.removeEventListener=(E=>(...W)=>{if(W[0]==="message"){let se=k.get(W[1]);se!==void 0&&(k.delete(W[1]),W[1]=se)}return E.call(N.port1,W[0],W[1],W[2])})(N.port1.removeEventListener);let B=null;Object.defineProperty(N.port1,"onmessage",{get:()=>B,set:E=>{typeof B=="function"&&N.port1.removeEventListener("message",B),B=typeof E=="function"?E:null,typeof B=="function"&&(N.port1.addEventListener("message",B),N.port1.start())}}),h.prototype.port=N.port1;let L=null;yn(f,V,h,x).then(E=>L=E);let fe=ot(x.numberOfInputs,x.channelCount),me=ot(x.numberOfOutputs,C),U=h.parameterDescriptors===void 0?[]:h.parameterDescriptors.reduce((E,{name:W})=>({...E,[W]:new Float32Array(128)}),{}),$=!0,pe=()=>{x.numberOfOutputs>0&&O.disconnect(w);for(let E=0,W=0;E<x.numberOfOutputs;E+=1){let se=b[E];for(let J=0;J<C[E];J+=1)w.disconnect(se,W+J,J);W+=C[E]}},D=new Map;O.onaudioprocess=({inputBuffer:E,outputBuffer:W})=>{if(L!==null){let se=l(V);for(let J=0;J<I;J+=128){for(let Z=0;Z<x.numberOfInputs;Z+=1)for(let ee=0;ee<x.channelCount;ee+=1)rt(E,fe[Z],ee,ee,J);h.parameterDescriptors!==void 0&&h.parameterDescriptors.forEach(({name:Z},ee)=>{rt(E,U,Z,y+ee,J)});for(let Z=0;Z<x.numberOfInputs;Z+=1)for(let ee=0;ee<C[Z];ee+=1)me[Z][ee].byteLength===0&&(me[Z][ee]=new Float32Array(128));try{let Z=fe.map((xe,Pe)=>{if(se[Pe].size>0)return D.set(Pe,I/128),xe;let kt=D.get(Pe);return kt===void 0?[]:(xe.every(da=>da.every(fa=>fa===0))&&(kt===1?D.delete(Pe):D.set(Pe,kt-1)),xe)});$=p(f.currentTime+J/f.sampleRate,f.sampleRate,()=>L.process(Z,me,U));for(let xe=0,Pe=0;xe<x.numberOfOutputs;xe+=1){for(let ft=0;ft<C[xe];ft+=1)It(W,me[xe],ft,Pe+ft,J);Pe+=C[xe]}}catch(Z){$=!1,V.dispatchEvent(new ErrorEvent("processorerror",{colno:Z.colno,filename:Z.filename,lineno:Z.lineno,message:Z.message}))}if(!$){for(let Z=0;Z<x.numberOfInputs;Z+=1){v[Z].disconnect(A[Z]);for(let ee=0;ee<x.channelCount;ee+=1)A[J].disconnect(M,ee,Z*x.channelCount+ee)}if(h.parameterDescriptors!==void 0){let Z=h.parameterDescriptors.length;for(let ee=0;ee<Z;ee+=1){let xe=g[ee];xe.disconnect(M,0,y+ee),xe.stop()}}M.disconnect(O),O.onaudioprocess=null,Be?pe():Ye();break}}}};let Be=!1,Ve=u(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Xe=()=>O.connect(Ve).connect(f.destination),Ye=()=>{O.disconnect(Ve),Ve.disconnect()},pa=()=>{if($){Ye(),x.numberOfOutputs>0&&O.connect(w);for(let E=0,W=0;E<x.numberOfOutputs;E+=1){let se=b[E];for(let J=0;J<C[E];J+=1)w.connect(se,W+J,J);W+=C[E]}}Be=!0},la=()=>{$&&(Xe(),pe()),Be=!1};return Xe(),m(V,pa,la)};var zt=(e,r)=>{let t=e.createBiquadFilter();return G(t,r),X(t,r,"Q"),X(t,r,"detune"),X(t,r,"frequency"),X(t,r,"gain"),j(t,r,"type"),t};var wn=(e,r)=>(t,o)=>{let n=t.createChannelMerger(o.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&r(t,n),G(n,o),n};var _n=e=>{let r=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>r,set:t=>{if(t!==r)throw K()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw K()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw K()}})};var it=(e,r)=>{let t=e.createChannelSplitter(r.numberOfOutputs);return G(t,r),_n(t),t};var On=(e,r,t,o,n)=>(a,u)=>{if(a.createConstantSource===void 0)return t(a,u);let s=a.createConstantSource();return G(s,u),X(s,u,"offset"),r(o,()=>o(a))||st(s),r(n,()=>n(a))||at(s),e(a,s),s};var ge=(e,r)=>(e.connect=r.connect.bind(r),e.disconnect=r.disconnect.bind(r),e);var In=(e,r,t,o)=>(n,{offset:a,...u})=>{let s=n.createBuffer(1,2,44100),c=r(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=t(n,{...u,gain:a}),p=s.getChannelData(0);p[0]=1,p[1]=1,c.buffer=s,c.loop=!0;let l={get bufferSize(){},get channelCount(){return i.channelCount},set channelCount(d){i.channelCount=d},get channelCountMode(){return i.channelCountMode},set channelCountMode(d){i.channelCountMode=d},get channelInterpretation(){return i.channelInterpretation},set channelInterpretation(d){i.channelInterpretation=d},get context(){return i.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return i.numberOfOutputs},get offset(){return i.gain},get onended(){return c.onended},set onended(d){c.onended=d},addEventListener(...d){return c.addEventListener(d[0],d[1],d[2])},dispatchEvent(...d){return c.dispatchEvent(d[0])},removeEventListener(...d){return c.removeEventListener(d[0],d[1],d[2])},start(d=0){c.start.call(c,d)},stop(d=0){c.stop.call(c,d)}},m=()=>c.connect(i),f=()=>c.disconnect(i);return e(n,c),o(ge(l,i),m,f)};var Mn=(e,r)=>(t,o)=>{let n=t.createConvolver();if(G(n,o),o.disableNormalization===n.normalize&&(n.normalize=!o.disableNormalization),j(n,o,"buffer"),o.channelCount>2||(r(n,"channelCount",a=>()=>a.call(n),a=>u=>{if(u>2)throw e();return a.call(n,u)}),o.channelCountMode==="max"))throw e();return r(n,"channelCountMode",a=>()=>a.call(n),a=>u=>{if(u==="max")throw e();return a.call(n,u)}),n};var Qt=(e,r)=>{let t=e.createDelay(r.maxDelayTime);return G(t,r),X(t,r,"delayTime"),t};var En=e=>(r,t)=>{let o=r.createDynamicsCompressor();if(G(o,t),t.channelCount>2||t.channelCountMode==="max")throw e();return X(o,t,"attack"),X(o,t,"knee"),X(o,t,"ratio"),X(o,t,"release"),X(o,t,"threshold"),o};var de=(e,r)=>{let t=e.createGain();return G(t,r),X(t,r,"gain"),t};var Tn=e=>(r,t,o)=>{if(r.createIIRFilter===void 0)return e(r,t,o);let n=r.createIIRFilter(o.feedforward,o.feedback);return G(n,o),n};function La(e,r){let t=r[0]*r[0]+r[1]*r[1];return[(e[0]*r[0]+e[1]*r[1])/t,(e[1]*r[0]-e[0]*r[1])/t]}function Ba(e,r){return[e[0]*r[0]-e[1]*r[1],e[0]*r[1]+e[1]*r[0]]}function bn(e,r){let t=[0,0];for(let o=e.length-1;o>=0;o-=1)t=Ba(t,r),t[0]+=e[o];return t}var Pn=(e,r,t,o)=>(n,a,{channelCount:u,channelCountMode:s,channelInterpretation:c,feedback:i,feedforward:p})=>{let l=Tt(a,n.sampleRate),m=i instanceof Float64Array?i:new Float64Array(i),f=p instanceof Float64Array?p:new Float64Array(p),d=m.length,h=f.length,x=Math.min(d,h);if(d===0||d>20)throw o();if(m[0]===0)throw r();if(h===0||h>20)throw o();if(f[0]===0)throw r();if(m[0]!==1){for(let g=0;g<h;g+=1)f[g]/=m[0];for(let g=1;g<d;g+=1)m[g]/=m[0]}let C=t(n,l,u,u);C.channelCount=u,C.channelCountMode=s,C.channelInterpretation=c;let y=32,S=[],_=[],N=[];for(let g=0;g<u;g+=1){S.push(0);let M=new Float32Array(y),I=new Float32Array(y);M.fill(0),I.fill(0),_.push(M),N.push(I)}C.onaudioprocess=g=>{let M=g.inputBuffer,I=g.outputBuffer,O=M.numberOfChannels;for(let w=0;w<O;w+=1){let b=M.getChannelData(w),T=I.getChannelData(w);S[w]=Et(m,d,f,h,x,_[w],N[w],S[w],y,b,T)}};let v=n.sampleRate/2;return ge({get bufferSize(){return l},get channelCount(){return C.channelCount},set channelCount(g){C.channelCount=g},get channelCountMode(){return C.channelCountMode},set channelCountMode(g){C.channelCountMode=g},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(g){C.channelInterpretation=g},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...g){return C.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return C.dispatchEvent(g[0])},getFrequencyResponse(g,M,I){if(g.length!==M.length||M.length!==I.length)throw e();let O=g.length;for(let w=0;w<O;w+=1){let b=-Math.PI*(g[w]/v),T=[Math.cos(b),Math.sin(b)],R=bn(f,T),P=bn(m,T),F=La(R,P);M[w]=Math.sqrt(F[0]*F[0]+F[1]*F[1]),I[w]=Math.atan2(F[1],F[0])}},removeEventListener(...g){return C.removeEventListener(g[0],g[1],g[2])}},C)};var Fn=(e,r)=>e.createMediaElementSource(r.mediaElement);var Dn=(e,r)=>{let t=e.createMediaStreamDestination();return G(t,r),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t};var Rn=(e,{mediaStream:r})=>{let t=r.getAudioTracks();t.sort((a,u)=>a.id<u.id?-1:a.id>u.id?1:0);let o=t.slice(0,1),n=e.createMediaStreamSource(new MediaStream(o));return Object.defineProperty(n,"mediaStream",{value:r}),n};var kn=(e,r)=>(t,{mediaStreamTrack:o})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(o);let n=new MediaStream([o]),a=t.createMediaStreamSource(n);if(o.kind!=="audio")throw e();if(r(t))throw new TypeError;return a};var Wn=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null;var Ln=(e,r,t,o,n,a)=>(u,s)=>{let c=u.createOscillator();return G(c,s),X(c,s,"detune"),X(c,s,"frequency"),s.periodicWave!==void 0?c.setPeriodicWave(s.periodicWave):j(c,s,"type"),r(t,()=>t(u))||st(c),r(o,()=>o(u))||a(c,u),r(n,()=>n(u))||at(c),e(u,c),c};var Bn=e=>(r,t)=>{let o=r.createPanner();return o.orientationX===void 0?e(r,t):(G(o,t),X(o,t,"orientationX"),X(o,t,"orientationY"),X(o,t,"orientationZ"),X(o,t,"positionX"),X(o,t,"positionY"),X(o,t,"positionZ"),j(o,t,"coneInnerAngle"),j(o,t,"coneOuterAngle"),j(o,t,"coneOuterGain"),j(o,t,"distanceModel"),j(o,t,"maxDistance"),j(o,t,"panningModel"),j(o,t,"refDistance"),j(o,t,"rolloffFactor"),o)};var Vn=(e,r,t,o,n,a,u,s,c,i)=>(p,{coneInnerAngle:l,coneOuterAngle:m,coneOuterGain:f,distanceModel:d,maxDistance:h,orientationX:x,orientationY:C,orientationZ:y,panningModel:S,positionX:_,positionY:N,positionZ:v,refDistance:A,rolloffFactor:g,...M})=>{let I=p.createPanner();if(M.channelCount>2||M.channelCountMode==="max")throw u();G(I,M);let O={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},w=t(p,{...O,channelInterpretation:"speakers",numberOfInputs:6}),b=o(p,{...M,gain:1}),T=o(p,{...O,gain:1}),R=o(p,{...O,gain:0}),P=o(p,{...O,gain:0}),F=o(p,{...O,gain:0}),V=o(p,{...O,gain:0}),k=o(p,{...O,gain:0}),B=n(p,256,6,1),L=a(p,{...O,curve:new Float32Array([1,1]),oversample:"none"}),Y=[x,C,y],fe=[_,N,v],me=new Float32Array(1);B.onaudioprocess=({inputBuffer:D})=>{let Be=[c(D,me,0),c(D,me,1),c(D,me,2)];Be.some((Xe,Ye)=>Xe!==Y[Ye])&&(I.setOrientation(...Be),Y=Be);let Ve=[c(D,me,3),c(D,me,4),c(D,me,5)];Ve.some((Xe,Ye)=>Xe!==fe[Ye])&&(I.setPosition(...Ve),fe=Ve)},Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"defaultValue",{get:()=>0});let U={get bufferSize(){},get channelCount(){return I.channelCount},set channelCount(D){if(D>2)throw u();b.channelCount=D,I.channelCount=D},get channelCountMode(){return I.channelCountMode},set channelCountMode(D){if(D==="max")throw u();b.channelCountMode=D,I.channelCountMode=D},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(D){b.channelInterpretation=D,I.channelInterpretation=D},get coneInnerAngle(){return I.coneInnerAngle},set coneInnerAngle(D){I.coneInnerAngle=D},get coneOuterAngle(){return I.coneOuterAngle},set coneOuterAngle(D){I.coneOuterAngle=D},get coneOuterGain(){return I.coneOuterGain},set coneOuterGain(D){if(D<0||D>1)throw r();I.coneOuterGain=D},get context(){return I.context},get distanceModel(){return I.distanceModel},set distanceModel(D){I.distanceModel=D},get inputs(){return[b]},get maxDistance(){return I.maxDistance},set maxDistance(D){if(D<0)throw new RangeError;I.maxDistance=D},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get orientationX(){return T.gain},get orientationY(){return R.gain},get orientationZ(){return P.gain},get panningModel(){return I.panningModel},set panningModel(D){I.panningModel=D},get positionX(){return F.gain},get positionY(){return V.gain},get positionZ(){return k.gain},get refDistance(){return I.refDistance},set refDistance(D){if(D<0)throw new RangeError;I.refDistance=D},get rolloffFactor(){return I.rolloffFactor},set rolloffFactor(D){if(D<0)throw new RangeError;I.rolloffFactor=D},addEventListener(...D){return b.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return b.dispatchEvent(D[0])},removeEventListener(...D){return b.removeEventListener(D[0],D[1],D[2])}};l!==U.coneInnerAngle&&(U.coneInnerAngle=l),m!==U.coneOuterAngle&&(U.coneOuterAngle=m),f!==U.coneOuterGain&&(U.coneOuterGain=f),d!==U.distanceModel&&(U.distanceModel=d),h!==U.maxDistance&&(U.maxDistance=h),x!==U.orientationX.value&&(U.orientationX.value=x),C!==U.orientationY.value&&(U.orientationY.value=C),y!==U.orientationZ.value&&(U.orientationZ.value=y),S!==U.panningModel&&(U.panningModel=S),_!==U.positionX.value&&(U.positionX.value=_),N!==U.positionY.value&&(U.positionY.value=N),v!==U.positionZ.value&&(U.positionZ.value=v),A!==U.refDistance&&(U.refDistance=A),g!==U.rolloffFactor&&(U.rolloffFactor=g),(Y[0]!==1||Y[1]!==0||Y[2]!==0)&&I.setOrientation(...Y),(fe[0]!==0||fe[1]!==0||fe[2]!==0)&&I.setPosition(...fe);let $=()=>{b.connect(I),e(b,L,0,0),L.connect(T).connect(w,0,0),L.connect(R).connect(w,0,1),L.connect(P).connect(w,0,2),L.connect(F).connect(w,0,3),L.connect(V).connect(w,0,4),L.connect(k).connect(w,0,5),w.connect(B).connect(p.destination)},pe=()=>{b.disconnect(I),s(b,L,0,0),L.disconnect(T),T.disconnect(w),L.disconnect(R),R.disconnect(w),L.disconnect(P),P.disconnect(w),L.disconnect(F),F.disconnect(w),L.disconnect(V),V.disconnect(w),L.disconnect(k),k.disconnect(w),w.disconnect(B),B.disconnect(p.destination)};return i(ge(U,I),$,pe)};var Gn=e=>(r,{disableNormalization:t,imag:o,real:n})=>{let a=o instanceof Float32Array?o:new Float32Array(o),u=n instanceof Float32Array?n:new Float32Array(n),s=r.createPeriodicWave(u,a,{disableNormalization:t});if(Array.from(o).length<2)throw e();return s};var ct=(e,r,t,o)=>e.createScriptProcessor(r,t,o);var Un=(e,r)=>(t,o)=>{let n=o.channelCountMode;if(n==="clamped-max")throw r();if(t.createStereoPanner===void 0)return e(t,o);let a=t.createStereoPanner();return G(a,o),X(a,o,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>n,set:u=>{if(u!==n)throw r()}}),a};var qn=(e,r,t,o,n,a)=>{let s=new Float32Array([1,1]),c=Math.PI/2,i={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},p={...i,oversample:"none"},l=(d,h,x,C)=>{let y=new Float32Array(16385),S=new Float32Array(16385);for(let M=0;M<16385;M+=1){let I=M/16384*c;y[M]=Math.cos(I),S[M]=Math.sin(I)}let _=t(d,{...i,gain:0}),N=o(d,{...p,curve:y}),v=o(d,{...p,curve:s}),A=t(d,{...i,gain:0}),g=o(d,{...p,curve:S});return{connectGraph(){h.connect(_),h.connect(v.inputs===void 0?v:v.inputs[0]),h.connect(A),v.connect(x),x.connect(N.inputs===void 0?N:N.inputs[0]),x.connect(g.inputs===void 0?g:g.inputs[0]),N.connect(_.gain),g.connect(A.gain),_.connect(C,0,0),A.connect(C,0,1)},disconnectGraph(){h.disconnect(_),h.disconnect(v.inputs===void 0?v:v.inputs[0]),h.disconnect(A),v.disconnect(x),x.disconnect(N.inputs===void 0?N:N.inputs[0]),x.disconnect(g.inputs===void 0?g:g.inputs[0]),N.disconnect(_.gain),g.disconnect(A.gain),_.disconnect(C,0,0),A.disconnect(C,0,1)}}},m=(d,h,x,C)=>{let y=new Float32Array(16385),S=new Float32Array(16385),_=new Float32Array(16385),N=new Float32Array(16385),v=Math.floor(16385/2);for(let F=0;F<16385;F+=1)if(F>v){let V=(F-v)/(16384-v)*c;y[F]=Math.cos(V),S[F]=Math.sin(V),_[F]=0,N[F]=1}else{let V=F/(16384-v)*c;y[F]=1,S[F]=0,_[F]=Math.cos(V),N[F]=Math.sin(V)}let A=r(d,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),g=t(d,{...i,gain:0}),M=o(d,{...p,curve:y}),I=t(d,{...i,gain:0}),O=o(d,{...p,curve:S}),w=o(d,{...p,curve:s}),b=t(d,{...i,gain:0}),T=o(d,{...p,curve:_}),R=t(d,{...i,gain:0}),P=o(d,{...p,curve:N});return{connectGraph(){h.connect(A),h.connect(w.inputs===void 0?w:w.inputs[0]),A.connect(g,0),A.connect(I,0),A.connect(b,1),A.connect(R,1),w.connect(x),x.connect(M.inputs===void 0?M:M.inputs[0]),x.connect(O.inputs===void 0?O:O.inputs[0]),x.connect(T.inputs===void 0?T:T.inputs[0]),x.connect(P.inputs===void 0?P:P.inputs[0]),M.connect(g.gain),O.connect(I.gain),T.connect(b.gain),P.connect(R.gain),g.connect(C,0,0),b.connect(C,0,0),I.connect(C,0,1),R.connect(C,0,1)},disconnectGraph(){h.disconnect(A),h.disconnect(w.inputs===void 0?w:w.inputs[0]),A.disconnect(g,0),A.disconnect(I,0),A.disconnect(b,1),A.disconnect(R,1),w.disconnect(x),x.disconnect(M.inputs===void 0?M:M.inputs[0]),x.disconnect(O.inputs===void 0?O:O.inputs[0]),x.disconnect(T.inputs===void 0?T:T.inputs[0]),x.disconnect(P.inputs===void 0?P:P.inputs[0]),M.disconnect(g.gain),O.disconnect(I.gain),T.disconnect(b.gain),P.disconnect(R.gain),g.disconnect(C,0,0),b.disconnect(C,0,0),I.disconnect(C,0,1),R.disconnect(C,0,1)}}},f=(d,h,x,C,y)=>{if(h===1)return l(d,x,C,y);if(h===2)return m(d,x,C,y);throw n()};return(d,{channelCount:h,channelCountMode:x,pan:C,...y})=>{if(x==="max")throw n();let S=e(d,{...y,channelCount:1,channelCountMode:x,numberOfInputs:2}),_=t(d,{...y,channelCount:h,channelCountMode:x,gain:1}),N=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C}),{connectGraph:v,disconnectGraph:A}=f(d,h,_,N,S);Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"maxValue",{get:()=>1}),Object.defineProperty(N.gain,"minValue",{get:()=>-1});let g={get bufferSize(){},get channelCount(){return _.channelCount},set channelCount(w){_.channelCount!==w&&(M&&A(),{connectGraph:v,disconnectGraph:A}=f(d,w,_,N,S),M&&v()),_.channelCount=w},get channelCountMode(){return _.channelCountMode},set channelCountMode(w){if(w==="clamped-max"||w==="max")throw n();_.channelCountMode=w},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(w){_.channelInterpretation=w},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get pan(){return N.gain},addEventListener(...w){return _.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return _.dispatchEvent(w[0])},removeEventListener(...w){return _.removeEventListener(w[0],w[1],w[2])}},M=!1,I=()=>{v(),M=!0},O=()=>{A(),M=!1};return a(ge(g,S),I,O)}};var jn=(e,r,t,o,n,a,u)=>(s,c)=>{let i=s.createWaveShaper();if(a!==null&&a.name==="webkitAudioContext"&&s.createGain().gain.automationRate===void 0)return t(s,c);G(i,c);let p=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(p!==null&&p.length<2)throw r();j(i,{curve:p},"curve"),j(i,c,"oversample");let l=null,m=!1;return u(i,"curve",h=>()=>h.call(i),h=>x=>(h.call(i,x),m&&(o(x)&&l===null?l=e(s,i):!o(x)&&l!==null&&(l(),l=null)),x)),n(i,()=>{m=!0,o(i.curve)&&(l=e(s,i))},()=>{m=!1,l!==null&&(l(),l=null)})};var Zn=(e,r,t,o,n)=>(a,{curve:u,oversample:s,...c})=>{let i=a.createWaveShaper(),p=a.createWaveShaper();G(i,c),G(p,c);let l=t(a,{...c,gain:1}),m=t(a,{...c,gain:-1}),f=t(a,{...c,gain:1}),d=t(a,{...c,gain:-1}),h=null,x=!1,C=null,y={get bufferSize(){},get channelCount(){return i.channelCount},set channelCount(N){l.channelCount=N,m.channelCount=N,i.channelCount=N,f.channelCount=N,p.channelCount=N,d.channelCount=N},get channelCountMode(){return i.channelCountMode},set channelCountMode(N){l.channelCountMode=N,m.channelCountMode=N,i.channelCountMode=N,f.channelCountMode=N,p.channelCountMode=N,d.channelCountMode=N},get channelInterpretation(){return i.channelInterpretation},set channelInterpretation(N){l.channelInterpretation=N,m.channelInterpretation=N,i.channelInterpretation=N,f.channelInterpretation=N,p.channelInterpretation=N,d.channelInterpretation=N},get context(){return i.context},get curve(){return C},set curve(N){if(N!==null&&N.length<2)throw r();if(N===null)i.curve=N,p.curve=N;else{let v=N.length,A=new Float32Array(v+2-v%2),g=new Float32Array(v+2-v%2);A[0]=N[0],g[0]=-N[v-1];let M=Math.ceil((v+1)/2),I=(v+1)/2-1;for(let O=1;O<M;O+=1){let w=O/M*I,b=Math.floor(w),T=Math.ceil(w);A[O]=b===T?N[b]:(1-(w-b))*N[b]+(1-(T-w))*N[T],g[O]=b===T?-N[v-1-b]:-((1-(w-b))*N[v-1-b])-(1-(T-w))*N[v-1-T]}A[M]=v%2===1?N[M-1]:(N[M-2]+N[M-1])/2,i.curve=A,p.curve=g}C=N,x&&(o(C)&&h===null?h=e(a,l):h!==null&&(h(),h=null))},get inputs(){return[l]},get numberOfInputs(){return i.numberOfInputs},get numberOfOutputs(){return i.numberOfOutputs},get oversample(){return i.oversample},set oversample(N){i.oversample=N,p.oversample=N},addEventListener(...N){return l.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return l.dispatchEvent(N[0])},removeEventListener(...N){return l.removeEventListener(N[0],N[1],N[2])}};u!==null&&(y.curve=u instanceof Float32Array?u:new Float32Array(u)),s!==y.oversample&&(y.oversample=s);let S=()=>{l.connect(i).connect(f),l.connect(m).connect(p).connect(d).connect(f),x=!0,o(C)&&(h=e(a,l))},_=()=>{l.disconnect(i),i.disconnect(f),l.disconnect(m),m.disconnect(p),p.disconnect(d),d.disconnect(f),x=!1,h!==null&&(h(),h=null)};return n(ge(y,f),S,_)};var ce=()=>new DOMException("","NotSupportedError");var Va={numberOfChannels:1},Xn=(e,r,t,o,n)=>class extends e{constructor(u,s,c){let i;if(typeof u=="number"&&s!==void 0&&c!==void 0)i={length:s,numberOfChannels:u,sampleRate:c};else if(typeof u=="object")i=u;else throw new Error("The given parameters are not valid.");let{length:p,numberOfChannels:l,sampleRate:m}={...Va,...i},f=o(l,p,m);r(ye,()=>ye(f))||f.addEventListener("statechange",(()=>{let d=0,h=x=>{this._state==="running"&&(d>0?(f.removeEventListener("statechange",h),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):d+=1)};return h})()),super(f,l),this._length=p,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",n(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Re(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}};var Ga={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Yn=(e,r,t,o,n,a,u)=>class extends e{constructor(c,i){let p=n(c),l={...Ga,...i},m=t(p,l),f=a(p),d=f?o():null,h=c.sampleRate/2;super(c,!1,m,d),this._detune=r(this,f,m.detune,153600,-153600),this._frequency=r(this,f,m.frequency,h,-h),this._nativeOscillatorNode=m,this._onended=null,this._oscillatorNodeRenderer=d,this._oscillatorNodeRenderer!==null&&l.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){let i=typeof c=="function"?u(this,c):null;this._nativeOscillatorNode.onended=i;let p=this._nativeOscillatorNode.onended;this._onended=p!==null&&p===i?c:p}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){ve(this);let i=()=>{this._nativeOscillatorNode.removeEventListener("ended",i),le(this)&&Ie(this)};this._nativeOscillatorNode.addEventListener("ended",i)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}};var zn=(e,r,t,o,n)=>()=>{let a=new WeakMap,u=null,s=null,c=null,i=async(p,l)=>{let m=t(p),f=q(m,l);if(!f){let d={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:u===null?void 0:u,type:m.type};m=r(l,d),s!==null&&m.start(s),c!==null&&m.stop(c)}return a.set(l,m),f?(await e(l,p.detune,m.detune),await e(l,p.frequency,m.frequency)):(await o(l,p.detune,m.detune),await o(l,p.frequency,m.frequency)),await n(p,l,m),m};return{set periodicWave(p){u=p},set start(p){s=p},set stop(p){c=p},render(p,l){let m=a.get(l);return m!==void 0?Promise.resolve(m):i(p,l)}}};var Ua={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Qn=(e,r,t,o,n,a,u)=>class extends e{constructor(c,i){let p=n(c),l={...Ua,...i},m=t(p,l),f=a(p),d=f?o():null;super(c,!1,m,d),this._nativePannerNode=m,this._orientationX=r(this,f,m.orientationX,te,re),this._orientationY=r(this,f,m.orientationY,te,re),this._orientationZ=r(this,f,m.orientationZ,te,re),this._positionX=r(this,f,m.positionX,te,re),this._positionY=r(this,f,m.positionY,te,re),this._positionZ=r(this,f,m.positionZ,te,re),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}};var Hn=(e,r,t,o,n,a,u,s,c,i)=>()=>{let p=new WeakMap,l=null,m=async(f,d)=>{let h=null,x=a(f),C={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},y={...C,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},S=q(x,d);if("bufferSize"in x)h=o(d,{...C,gain:1});else if(!S){let _={...y,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=n(d,_)}if(p.set(d,h===null?x:h),h!==null){if(l===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");let O=new u(6,f.context.length,d.sampleRate),w=r(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});w.connect(O.destination),l=(async()=>{let b=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(T,R)=>{let P=t(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R===0?1:0});return await s(O,T,P.offset),P}));for(let T=0;T<6;T+=1)b[T].connect(w,0,T),b[T].start(0);return i(O)})()}let _=await l,N=o(d,{...C,gain:1});await c(f,d,N);let v=[];for(let O=0;O<_.numberOfChannels;O+=1)v.push(_.getChannelData(O));let A=[v[0][0],v[1][0],v[2][0]],g=[v[3][0],v[4][0],v[5][0]],M=o(d,{...C,gain:1}),I=n(d,{...y,orientationX:A[0],orientationY:A[1],orientationZ:A[2],positionX:g[0],positionY:g[1],positionZ:g[2]});N.connect(M).connect(I.inputs[0]),I.connect(h);for(let O=128;O<_.length;O+=128){let w=[v[0][O],v[1][O],v[2][O]],b=[v[3][O],v[4][O],v[5][O]];if(w.some((T,R)=>T!==A[R])||b.some((T,R)=>T!==g[R])){A=w,g=b;let T=O/d.sampleRate;M.gain.setValueAtTime(0,T),M=o(d,{...C,gain:0}),I=n(d,{...y,orientationX:A[0],orientationY:A[1],orientationZ:A[2],positionX:g[0],positionY:g[1],positionZ:g[2]}),M.gain.setValueAtTime(1,T),N.connect(M).connect(I.inputs[0]),I.connect(h)}}return h}return S?(await e(d,f.orientationX,x.orientationX),await e(d,f.orientationY,x.orientationY),await e(d,f.orientationZ,x.orientationZ),await e(d,f.positionX,x.positionX),await e(d,f.positionY,x.positionY),await e(d,f.positionZ,x.positionZ)):(await s(d,f.orientationX,x.orientationX),await s(d,f.orientationY,x.orientationY),await s(d,f.orientationZ,x.orientationZ),await s(d,f.positionX,x.positionX),await s(d,f.positionY,x.positionY),await s(d,f.positionZ,x.positionZ)),Ce(x)?await c(f,d,x.inputs[0]):await c(f,d,x),x};return{render(f,d){let h=p.get(d);return h!==void 0?Promise.resolve(h):m(f,d)}}};var qa={disableNormalization:!1},$n=(e,r,t,o)=>class Kn{constructor(a,u){let s=r(a),c=o({...qa,...u}),i=e(s,c);return t.add(i),i}static[Symbol.hasInstance](a){return a!==null&&typeof a=="object"&&Object.getPrototypeOf(a)===Kn.prototype||t.has(a)}};var Jn=(e,r)=>(t,o,n)=>(e(o).replay(n),r(o,t,n));var es=(e,r,t)=>async(o,n,a)=>{let u=e(o);await Promise.all(u.activeInputs.map((s,c)=>Array.from(s).map(async([i,p])=>{let m=await r(i).render(i,n),f=o.context.destination;!t(i)&&(o!==f||!t(o))&&m.connect(a,p,c)})).reduce((s,c)=>[...s,...c],[]))};var ts=(e,r,t)=>async(o,n,a)=>{let u=r(o);await Promise.all(Array.from(u.activeInputs).map(async([s,c])=>{let p=await e(s).render(s,n);t(s)||p.connect(a,c)}))};var rs=(e,r,t,o)=>n=>e(ye,()=>ye(n))?Promise.resolve(e(o,o)).then(a=>{if(!a){let u=t(n,512,0,1);n.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>n.currentTime,u.connect(n.destination)}return n.startRendering()}):new Promise(a=>{let u=r(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.oncomplete=s=>{u.disconnect(),a(s.renderedBuffer)},u.connect(n.destination),n.startRendering()});var os=e=>(r,t)=>{e.set(r,t)};var ns=e=>(r,t)=>e.set(r,t);var ss=(e,r,t,o,n,a,u,s)=>(c,i)=>t(c).render(c,i).then(()=>Promise.all(Array.from(o(i)).map(p=>t(p).render(p,i)))).then(()=>n(i)).then(p=>(typeof p.copyFromChannel!="function"?(u(p),$e(p)):r(a,()=>a(p))||s(p),e.add(p),p));var ja={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},as=(e,r,t,o,n,a)=>class extends e{constructor(s,c){let i=n(s),p={...ja,...c},l=t(i,p),m=a(i),f=m?o():null;super(s,!1,l,f),this._pan=r(this,m,l.pan)}get pan(){return this._pan}};var is=(e,r,t,o,n)=>()=>{let a=new WeakMap,u=async(s,c)=>{let i=t(s),p=q(i,c);if(!p){let l={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,pan:i.pan.value};i=r(c,l)}return a.set(c,i),p?await e(c,s.pan,i.pan):await o(c,s.pan,i.pan),Ce(i)?await n(s,c,i.inputs[0]):await n(s,c,i),i};return{render(s,c){let i=a.get(c);return i!==void 0?Promise.resolve(i):u(s,c)}}};var cs=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0};var us=e=>()=>{if(e===null)return!1;let t=new e(1,1,44100).createBuffer(1,1,44100);if(t.copyToChannel===void 0)return!0;let o=new Float32Array(2);try{t.copyFromChannel(o,0,0)}catch{return!1}return!0};var ps=e=>()=>{if(e===null)return!1;if(e.prototype!==void 0&&e.prototype.close!==void 0)return!0;let r=new e,t=r.close!==void 0;try{r.close()}catch{}return t};var ls=e=>()=>{if(e===null)return Promise.resolve(!1);let r=new e(1,1,44100);return new Promise(t=>{let o=!0,n=u=>{o&&(o=!1,r.startRendering(),t(u instanceof TypeError))},a;try{a=r.decodeAudioData(null,()=>{},n)}catch(u){n(u)}a!==void 0&&a.catch(n)})};var ds=e=>()=>{if(e===null)return!1;let r;try{r=new e({latencyHint:"balanced"})}catch{return!1}return r.close(),!0};var fs=e=>()=>{if(e===null)return!1;let t=new e(1,1,44100).createGain(),o=t.connect(t)===t;return t.disconnect(t),o};var ms=(e,r)=>async()=>{if(e===null)return!0;if(r===null)return!1;let t=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),o=new MessageChannel,n=new r(1,128,44100),a=URL.createObjectURL(t),u=!1;try{await n.audioWorklet.addModule(a);let s=new e(n,"a",{numberOfOutputs:0}),c=n.createOscillator();await new Promise(i=>{s.port.onmessage=()=>i(),s.port.postMessage(o.port2,[o.port2])}),s.port.onmessage=()=>u=!0,c.connect(s),c.start(0),await n.startRendering(),u=await new Promise(i=>{o.port1.onmessage=({data:p})=>i(p===1),o.port1.postMessage(0)})}catch{}finally{o.port1.close(),URL.revokeObjectURL(a)}return u};var hs=(e,r)=>async()=>{if(e===null)return!0;if(r===null)return!1;let t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),o=new r(1,128,44100),n=URL.createObjectURL(t),a=!1,u=!1;try{await o.audioWorklet.addModule(n);let s=new e(o,"a",{numberOfOutputs:0}),c=o.createOscillator();s.port.onmessage=()=>a=!0,s.onprocessorerror=()=>u=!0,c.connect(s),c.start(0),await o.startRendering()}catch{}finally{URL.revokeObjectURL(n)}return a&&!u};var xs=e=>()=>{if(e===null)return!1;let t=new e(1,1,44100).createChannelMerger();if(t.channelCountMode==="max")return!0;try{t.channelCount=2}catch{return!0}return!1};var Ns=e=>()=>{if(e===null)return!1;let r=new e(1,1,44100);return r.createConstantSource===void 0?!0:r.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY};var Cs=e=>()=>{if(e===null)return!1;let r=new e(1,1,44100),t=r.createConvolver();t.buffer=r.createBuffer(1,1,r.sampleRate);try{t.buffer=r.createBuffer(1,1,r.sampleRate)}catch{return!1}return!0};var gs=e=>()=>{if(e===null)return!1;let t=new e(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0};var vs=e=>()=>e!==null&&e.hasOwnProperty("isSecureContext");var As=e=>()=>{if(e===null)return!1;let r=new e;try{return r.createMediaStreamSource(new MediaStream),!1}catch{return!0}finally{r.close()}};var ys=(e,r)=>()=>{if(r===null)return Promise.resolve(!1);let t=new r(1,1,44100),o=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(n=>{t.oncomplete=()=>{o.disconnect(),n(t.currentTime!==0)},t.startRendering()})};var Ss=e=>()=>{if(e===null)return Promise.resolve(!1);let r=new e(1,1,44100);if(r.createStereoPanner===void 0||r.createConstantSource===void 0)return Promise.resolve(!0);let t=r.createConstantSource(),o=r.createStereoPanner();return t.channelCount=1,t.offset.value=1,o.channelCount=1,t.start(),t.connect(o).connect(r.destination),r.startRendering().then(n=>n.getChannelData(0)[0]!==1)};var Ht=()=>new DOMException("","UnknownError");var Za={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ws=(e,r,t,o,n,a,u)=>class extends e{constructor(c,i){let p=n(c),l={...Za,...i},m=t(p,l),d=a(p)?o():null;super(c,!0,m,d),this._isCurveNullified=!1,this._nativeWaveShaperNode=m,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}};var _s=(e,r,t)=>()=>{let o=new WeakMap,n=async(a,u)=>{let s=r(a);if(!q(s,u)){let i={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=e(u,i)}return o.set(u,s),Ce(s)?await t(a,u,s.inputs[0]):await t(a,u,s),s};return{render(a,u){let s=o.get(u);return s!==void 0?Promise.resolve(s):n(a,u)}}};var Os=()=>typeof window>"u"?null:window;var Is=(e,r)=>t=>{t.copyFromChannel=(o,n,a=0)=>{let u=e(a),s=e(n);if(s>=t.numberOfChannels)throw r();let c=t.length,i=t.getChannelData(s),p=o.length;for(let l=u<0?-u:0;l+u<c&&l<p;l+=1)o[l]=i[l+u]},t.copyToChannel=(o,n,a=0)=>{let u=e(a),s=e(n);if(s>=t.numberOfChannels)throw r();let c=t.length,i=t.getChannelData(s),p=o.length;for(let l=u<0?-u:0;l+u<c&&l<p;l+=1)i[l+u]=o[l]}};var Ms=e=>r=>{r.copyFromChannel=(t=>(o,n,a=0)=>{let u=e(a),s=e(n);if(u<r.length)return t.call(r,o,s,u)})(r.copyFromChannel),r.copyToChannel=(t=>(o,n,a=0)=>{let u=e(a),s=e(n);if(u<r.length)return t.call(r,o,s,u)})(r.copyToChannel)};var Es=e=>(r,t)=>{let o=t.createBuffer(1,1,44100);r.buffer===null&&(r.buffer=o),e(r,"buffer",n=>()=>{let a=n.call(r);return a===o?null:a},n=>a=>n.call(r,a===null?o:a))};var Ts=(e,r)=>(t,o)=>{o.channelCount=1,o.channelCountMode="explicit",Object.defineProperty(o,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});let n=t.createBufferSource();r(o,()=>{let s=o.numberOfInputs;for(let c=0;c<s;c+=1)n.connect(o,0,c)},()=>n.disconnect(o))};var $t=(e,r,t)=>e.copyFromChannel===void 0?e.getChannelData(t)[0]:(e.copyFromChannel(r,t),r[0]);var Kt=e=>{if(e===null)return!1;let r=e.length;return r%2!==0?e[Math.floor(r/2)]!==0:e[r/2-1]+e[r/2]!==0};var ut=(e,r,t,o)=>{let n=e;for(;!n.hasOwnProperty(r);)n=Object.getPrototypeOf(n);let{get:a,set:u}=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,{get:t(a),set:o(u)})};var bs=e=>({...e,outputChannelCount:e.outputChannelCount!==void 0?e.outputChannelCount:e.numberOfInputs===1&&e.numberOfOutputs===1?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)});var Ps=e=>({...e,channelCount:e.numberOfOutputs});var Fs=e=>{let{imag:r,real:t}=e;return r===void 0?t===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(t,()=>0),real:t}:t===void 0?{...e,imag:r,real:Array.from(r,()=>0)}:{...e,imag:r,real:t}};var Jt=(e,r,t)=>{try{e.setValueAtTime(r,t)}catch(o){if(o.code!==9)throw o;Jt(e,r,t+1e-7)}};var Ds=e=>{let r=e.createBufferSource();r.start();try{r.start()}catch{return!0}return!1};var Rs=e=>{let r=e.createBufferSource(),t=e.createBuffer(1,1,44100);r.buffer=t;try{r.start(0,1)}catch{return!1}return!0};var ks=e=>{let r=e.createBufferSource();r.start();try{r.stop()}catch{return!1}return!0};var bt=e=>{let r=e.createOscillator();try{r.start(-1)}catch(t){return t instanceof RangeError}return!1};var er=e=>{let r=e.createBuffer(1,1,44100),t=e.createBufferSource();t.buffer=r,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}};var Pt=e=>{let r=e.createOscillator();try{r.stop(-1)}catch(t){return t instanceof RangeError}return!1};var Ws=e=>{let{port1:r,port2:t}=new MessageChannel;try{r.postMessage(e)}finally{r.close(),t.close()}};var Ls=()=>{try{new DOMException}catch{return!1}return!0};var Bs=()=>new Promise(e=>{let r=new ArrayBuffer(0),{port1:t,port2:o}=new MessageChannel;t.onmessage=({data:n})=>e(n!==null),o.postMessage(r,[r])});var Vs=e=>{e.start=(r=>(t=0,o=0,n)=>{let a=e.buffer,u=a===null?o:Math.min(a.duration,o);a!==null&&u>a.duration-.5/e.context.sampleRate?r.call(e,t,0,0):r.call(e,t,u,n)})(e.start)};var tr=(e,r)=>{let t=r.createGain();e.connect(t);let o=(n=>()=>{n.call(e,t),e.removeEventListener("ended",o)})(e.disconnect);e.addEventListener("ended",o),ge(e,t),e.stop=(n=>{let a=!1;return(u=0)=>{if(a)try{n.call(e,u)}catch{t.gain.setValueAtTime(0,u)}else n.call(e,u),a=!0}})(e.stop)};var je=(e,r)=>t=>{let o={value:e};return Object.defineProperties(t,{currentTarget:o,target:o}),typeof r=="function"?r.call(e,t):r.handleEvent.call(e,t)};var Ja=dr(Ae),ei=yr(Ae),ti=Co(Fe),Us=new WeakMap,ri=Do(Us),he=Kr(new Map,new WeakMap),Se=Os(),qs=ln(he,Ne),rr=Fo(ae),ue=es(ae,rr,Te),oi=Or(qs,z,ue),H=Wo(Qe),ie=Wn(Se),Q=Ko(ie),js=new WeakMap,Zs=Io(je),be=hn(Se),or=zo(be),nr=Qo(Se),Xs=Ho(Se),pt=Nn(Se),oe=qr(fr(gt),Ar(Ja,ei,Ke,ti,Je,ae,ri,Oe,z,Ae,le,Te,et),he,qo(ht,Je,ae,z,Ue,le),Ne,nt,ce,ho(Ke,ht,ae,z,Ue,H,le,Q),Ao(js,ae,ne),Zs,H,or,nr,Xs,Q,pt),ni=_r(oe,oi,Ne,qs,H,Q);var sr=new WeakSet,Gs=dn(Se),Ys=co(new Uint32Array(1)),ar=Is(Ys,Ne),ir=Ms(Ys),si=Ir(sr,he,ce,Gs,ie,cs(Gs),ar,ir);var Ft=Sr(de),zs=ts(rr,De,Te),Me=oo(zs),lt=mn(Ft,he,Ds,Rs,ks,bt,er,Pt,Vs,Es(ut),tr),Ee=Jn(Ro(De),zs),ai=Tr(Me,lt,z,Ee,ue),we=jr(mr(vt),js,mt,Zr,Xa,Ya,za,Qa,Ha,$a,Ka,be,Jt),ii=Er(oe,ai,we,K,lt,H,Q,je);var ci=Lr(oe,Br,Ne,K,xn(de,ut),H,Q,ue),ui=$r(Me,zt,z,Ee,ue),Ze=ns(Us),pi=Hr(oe,we,ui,nt,zt,H,Q,Ze),We=un(Ae,nr),li=Ts(K,We),Le=wn(be,li),di=eo(Le,z,ue),fi=Jr(oe,di,Le,H,Q),mi=ro(it,z,ue),hi=to(oe,mi,it,H,Q,Ps),xi=In(Ft,lt,de,We),dt=On(Ft,he,xi,bt,Pt),Ni=io(Me,dt,z,Ee,ue),Ci=ao(oe,we,Ni,dt,H,Q,je),Qs=Mn(ce,ut),gi=po(Qs,z,ue),vi=uo(oe,gi,Qs,H,Q,Ze),Ai=No(Me,Qt,z,Ee,ue),yi=xo(oe,we,Ai,Qt,H,Q,Ze),Hs=En(ce),Si=wo(Me,Hs,z,Ee,ue),wi=So(oe,we,Si,Hs,ce,H,Q,Ze),_i=bo(Me,de,z,Ee,ue),Oi=To(oe,we,_i,de,H,Q),Ii=Pn(nt,K,ct,ce),Dt=rs(he,de,ct,ys(de,ie)),Mi=Uo(lt,z,ie,ue,Dt),Ei=Tn(Ii),Ti=Go(oe,Ei,Mi,H,Q,Ze),bi=Vr(we,Le,dt,ct,ce,$t,Q,ut),$s=new WeakMap,cr=an(ci,bi,Zs,Q,$s,je),Ks=Ln(Ft,he,bt,er,Pt,tr),Pi=zn(Me,Ks,z,Ee,ue),Fi=Yn(oe,we,Ks,Pi,H,Q,je),Js=so(lt),Di=Zn(Js,K,de,Kt,We),Rt=jn(Js,K,Di,Kt,We,be,ut),Ri=Vn(Ke,K,Le,de,ct,Rt,ce,Je,$t,We),ea=Bn(Ri),ki=Hn(Me,Le,dt,de,ea,z,ie,Ee,ue,Dt),Wi=Qn(oe,we,ea,ki,H,Q,Ze),Li=Gn(Ne),Bi=$n(Li,H,new WeakSet,Fs),Vi=qn(Le,it,de,Rt,ce,We),ta=Un(Vi,ce),Gi=is(Me,ta,z,Ee,ue),Ui=as(oe,we,ta,Gi,H,Q),qi=_s(Rt,z,ue),ji=ws(oe,K,Rt,qi,H,Q,Ze),ra=Jo(Se),ur=Mo(Se),oa=new WeakMap,Zi=Lo(oa,ie),Xi=ra?vr(he,ce,Oo(Se),ur,Eo(lr),H,Zi,Q,pt,new WeakMap,new WeakMap,hs(pt,ie),Se):void 0,Yi=$o(or,Q),zi=mo(sr,he,fo,_o,new WeakSet,H,Yi,He,ye,ar,ir),na=Qr(Xi,ni,si,ii,pi,fi,hi,Ci,vi,zi,yi,wi,Oi,Ti,cr,Fi,Wi,Bi,Ui,ji),Qi=tn(oe,Fn,H,Q),Hi=rn(oe,Dn,H,Q),$i=on(oe,Rn,H,Q),Ki=kn(K,Q),Ji=nn(oe,Ki,H),KM=Wr(na,K,ce,Ht,Qi,Hi,$i,Ji,be);var pr=Bo($s),ec=wr(pr),sa=no(Ne),tc=go(pr),aa=yo(Ne),ia=new WeakMap,rc=Po(ia,ne),oc=Sn(sa,Ne,K,Le,it,dt,de,ct,ce,aa,ur,rc,We),nc=gn(K,oc,de,ce,We),sc=zr(Me,sa,lt,Le,it,dt,de,tc,aa,ur,z,pt,ie,Ee,ue,Dt),ac=ko(oa),ic=os(ia),JM=ra?Xr(ec,oe,we,sc,nc,ae,ac,H,Q,pt,bs,ic,Ws,je):void 0;var e1=sn(K,ce,Ht,cr,be);var ca=lo(ce,ie),ua=ss(sr,he,rr,pr,Dt,He,ar,ir),t1=cn(he,K,ca,cr,ua);var r1=Xn(na,he,K,ca,ua);var o1=jo(Qe,or),n1=Zo(ze,nr),s1=Xo(mt,Xs),a1=Yo(Qe,Q),i1=()=>en(he,us(ie),ps(be),ls(ie),ds(be),fs(ie),ms(pt,ie),xs(ie),Ns(ie),Cs(ie),gs(ie),Ls,vs(Se),As(be),Ss(ie),Bs);export{ni as AnalyserNode,si as AudioBuffer,ii as AudioBufferSourceNode,KM as AudioContext,JM as AudioWorkletNode,pi as BiquadFilterNode,fi as ChannelMergerNode,hi as ChannelSplitterNode,Ci as ConstantSourceNode,vi as ConvolverNode,yi as DelayNode,wi as DynamicsCompressorNode,Oi as GainNode,Ti as IIRFilterNode,Qi as MediaElementAudioSourceNode,Hi as MediaStreamAudioDestinationNode,$i as MediaStreamAudioSourceNode,Ji as MediaStreamTrackAudioSourceNode,e1 as MinimalAudioContext,t1 as MinimalOfflineAudioContext,r1 as OfflineAudioContext,Fi as OscillatorNode,Wi as PannerNode,Bi as PeriodicWave,Ui as StereoPannerNode,ji as WaveShaperNode,Xi as addAudioWorkletModule,zi as decodeAudioData,o1 as isAnyAudioContext,n1 as isAnyAudioNode,s1 as isAnyAudioParam,a1 as isAnyOfflineAudioContext,i1 as isSupported};
